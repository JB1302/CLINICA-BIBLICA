ALTER SESSION SET "_ORACLE_SCRIPT"=TRUE; 
--------------------------------------------------------------------------------
-- SECCIÓN 1: CREACIÓN DE USUARIO
-- Se crea el usuario principal de la base de datos (CLINICA) y se le asignan los permisos
-- Esta sección se debe ejecutar bajo el usuario System
--------------------------------------------------------------------------------
/
//Crear usuario y dar permisos Desde SYSTEM
CREATE USER clinica IDENTIFIED BY "1234";
GRANT CONNECT, RESOURCE TO CLINICA;
ALTER USER CLINICA QUOTA UNLIMITED ON USERS;

SELECT USER FROM DUAL;
SELECT * FROM USER_ROLE_PRIVS;
SHOW USER;
SHOW CON_NAME;
SELECT USERNAME FROM ALL_USERS WHERE USER
/

-- =====================================================
-- SECCIÓN 2: CREACIÓN DE TABLAS
-- Esta sección se ejecuta con el usuario creado
-- respeta dependencias de FK
-- Servidor: CLINICA (4.156.223.214:1521/XEPDB1)
-- Usuario: CLINICA / 1234
-- =====================================================

-- 1. TABLA ESTADO_CITA (sin dependencias)
CREATE TABLE ESTADO_CITA (
    ID_ESTADO NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOMBRE_ESTADO VARCHAR2(50),
    DESCRIPCION   VARCHAR2(150)
);

-- 2. TABLA MOTIVO_CANCELACION (sin dependencias)
CREATE TABLE MOTIVO_CANCELACION (
    ID_MOTIVO_CANCELACION NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOMBRE                VARCHAR2(50),
    DESCRIPCION           VARCHAR2(150)
);

-- 3. TABLA ESPECIALIDAD (sin dependencias)
CREATE TABLE ESPECIALIDAD (
    ID_ESPECIALIDAD NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOMBRE          VARCHAR2(50)
);

-- 4. TABLA CLINICA (sin dependencias)
CREATE TABLE CLINICA (
    ID_CLINICA NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    NOMBRE VARCHAR2(50),
    CODIGO_CLINICA VARCHAR2(50),
    TELEFONO VARCHAR2(50)
);

-- 5. TABLA PACIENTE (sin dependencias)
CREATE TABLE PACIENTE (
    ID_PACIENTE         NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CEDULA              VARCHAR2(20),
    PRIMER_NOMBRE       VARCHAR2(50) NOT NULL,
    SEGUNDO_NOMBRE      VARCHAR2(50),
    PRIMER_APELLIDO     VARCHAR2(50) NOT NULL,
    SEGUNDO_APELLIDO    VARCHAR2(50),
    FECHA_NACIMIENTO    DATE,
    SEXO                CHAR(1) CHECK (SEXO IN ('M','F')),
    OBSERVACIONES       VARCHAR2(255),
    TELEFONO            VARCHAR2(20),
    DIRECCION           VARCHAR2(150),
    CORREO_ELECTRONICO  VARCHAR2(100)
);

-- 6. TABLA AGENDA_HORARIO (sin dependencias)
CREATE TABLE AGENDA_HORARIO (
    ID_HORARIO  NUMBER(2)
        CONSTRAINT PK_AGENDA_HORARIO PRIMARY KEY
        CONSTRAINT CHK_AH_ID_RANGO CHECK (ID_HORARIO BETWEEN 1 AND 10),
    HORARIO     VARCHAR2(60) NOT NULL,
    DIA_SEMANA  NUMBER(1) NOT NULL
        CONSTRAINT CHK_AH_DIA CHECK (DIA_SEMANA BETWEEN 1 AND 5),
    TURNO       CHAR(1) NOT NULL
        CONSTRAINT CHK_AH_TURNO CHECK (TURNO IN ('M','T')),
    HORA_INICIO CHAR(5) NOT NULL,
    HORA_FIN    CHAR(5) NOT NULL,

    CONSTRAINT UQ_AH_DIA_TURNO UNIQUE (DIA_SEMANA, TURNO),
    CONSTRAINT CHK_AH_HORARIO_VALIDO
        CHECK (
            (TURNO = 'M' AND HORA_INICIO = '07:00' AND HORA_FIN = '13:00')
            OR
            (TURNO = 'T' AND HORA_INICIO = '13:00' AND HORA_FIN = '19:00')
        )
);

-- 7. TABLA PERSONAL (depende de AGENDA_HORARIO)
CREATE TABLE PERSONAL (
    ID_PERSONAL        NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRIMER_NOMBRE      VARCHAR2(50) NOT NULL,
    SEGUNDO_NOMBRE     VARCHAR2(50),
    PRIMER_APELLIDO     VARCHAR2(50) NOT NULL,
    SEGUNDO_APELLIDO    VARCHAR2(50),
    PUESTO             VARCHAR2(50),
    ACTIVO             CHAR(1) CHECK (ACTIVO IN ('S','N')),
    CORREO_ELECTRONICO VARCHAR2(100),
    TELEFONO           VARCHAR2(50),
    DIRECCION          VARCHAR2(150),
    PROVINCIA          VARCHAR2(50),
    CANTON             VARCHAR2(50),
    DISTRITO           VARCHAR2(50),
    HORARIO_TRABAJO    NUMBER(2),
    CONSTRAINT FK_PERSONAL_HORARIO FOREIGN KEY (HORARIO_TRABAJO)
        REFERENCES AGENDA_HORARIO(ID_HORARIO)
);

-- 8. TABLA MEDICO (depende de PERSONAL y AGENDA_HORARIO)
CREATE TABLE MEDICO (
    ID_MEDICO      NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    ID_PERSONAL    NUMBER NOT NULL,
    ID_HORARIO     NUMBER(2),
    CONSTRAINT FK_MEDICO_PERSONAL FOREIGN KEY (ID_PERSONAL)
        REFERENCES PERSONAL(ID_PERSONAL),
    CONSTRAINT FK_MEDICO_HORARIO FOREIGN KEY (ID_HORARIO)
        REFERENCES AGENDA_HORARIO(ID_HORARIO)
);

-- 8. TABLA MEDICO_ESPECIALIDAD (depende de MEDICO y ESPECIALIDAD)
CREATE TABLE MEDICO_ESPECIALIDAD (
    ID_MEDICO_ESPECIALIDAD NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    ID_MEDICO              NUMBER NOT NULL,
    ID_ESPECIALIDAD        NUMBER NOT NULL,
    DESDE DATE, 
    HASTA DATE,
    CONSTRAINT FK_MEDESP_MEDICO FOREIGN KEY (ID_MEDICO)
        REFERENCES MEDICO(ID_MEDICO),
    CONSTRAINT FK_MEDESP_ESPECIALIDAD FOREIGN KEY (ID_ESPECIALIDAD)
        REFERENCES ESPECIALIDAD(ID_ESPECIALIDAD),
    CONSTRAINT CK_FECHAS_MEDESP CHECK (HASTA IS NULL OR HASTA >= DESDE)
);

-- 9. TABLA CONSULTORIO (depende de CLINICA)
CREATE TABLE CONSULTORIO (
    ID_CONSULTORIO   NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_CLINICA       NUMBER NOT NULL,
    NOMBRE           VARCHAR2(50),
    TIPO             VARCHAR2(50),
    CONSTRAINT FK_CONSULTORIO_CLINICA FOREIGN KEY (ID_CLINICA)
        REFERENCES CLINICA(ID_CLINICA)
);

-- 10. TABLA AGENDA_MEDICA (depende de MEDICO, CONSULTORIO y AGENDA_HORARIO)
CREATE TABLE AGENDA_MEDICA (
    ID_AGENDA         NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_MEDICO         NUMBER NOT NULL,
    ID_CONSULTORIO    NUMBER NOT NULL,
    ID_HORARIO        NUMBER(2),
    VIGENTE_DESDE     DATE,
    VIGENTE_HASTA     DATE,
    CONSTRAINT FK_AGENDA_MEDICO FOREIGN KEY (ID_MEDICO)
        REFERENCES MEDICO(ID_MEDICO),
    CONSTRAINT FK_AGENDA_CONSULTORIO FOREIGN KEY (ID_CONSULTORIO)
        REFERENCES CONSULTORIO(ID_CONSULTORIO),
    CONSTRAINT FK_AGENDA_HORARIO FOREIGN KEY (ID_HORARIO)
        REFERENCES AGENDA_HORARIO(ID_HORARIO),
    CONSTRAINT CK_AGENDA_VIGENCIA CHECK (VIGENTE_HASTA IS NULL OR VIGENTE_HASTA >= VIGENTE_DESDE)
);

-- 11. TABLA CITA (depende de PACIENTE, MEDICO, CONSULTORIO, ESTADO_CITA, MOTIVO_CANCELACION, AGENDA_MEDICA)
CREATE TABLE CITA (
    ID_CITA               NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_PACIENTE           NUMBER NOT NULL,
    ID_MEDICO             NUMBER NOT NULL,
    ID_CONSULTORIO        NUMBER NOT NULL,
    ID_ESTADO             NUMBER NOT NULL,
    ID_MOTIVO_CANCELACION NUMBER,
    ID_AGENDA             NUMBER,  
    FECHA                 DATE NOT NULL,
    HORA_AGENDADA_INICIO  TIMESTAMP NOT NULL,
    HORA_AGENDADA_FIN     TIMESTAMP NOT NULL,
    OBSERVACIONES         VARCHAR2(255),

    CONSTRAINT FK_CITA_PACIENTE FOREIGN KEY (ID_PACIENTE)
        REFERENCES PACIENTE(ID_PACIENTE),

    CONSTRAINT FK_CITA_MEDICO FOREIGN KEY (ID_MEDICO)
        REFERENCES MEDICO(ID_MEDICO),

    CONSTRAINT FK_CITA_CONSULTORIO FOREIGN KEY (ID_CONSULTORIO)
        REFERENCES CONSULTORIO(ID_CONSULTORIO),

    CONSTRAINT FK_CITA_ESTADO FOREIGN KEY (ID_ESTADO)
        REFERENCES ESTADO_CITA(ID_ESTADO),

    CONSTRAINT FK_CANCELACION_CITA FOREIGN KEY (ID_MOTIVO_CANCELACION)
        REFERENCES MOTIVO_CANCELACION(ID_MOTIVO_CANCELACION),

    CONSTRAINT FK_CITA_AGENDA FOREIGN KEY (ID_AGENDA)
        REFERENCES AGENDA_MEDICA(ID_AGENDA),

    CONSTRAINT CK_HORARIO_CITA CHECK (HORA_AGENDADA_FIN > HORA_AGENDADA_INICIO)
);

-- 12. TABLA ATENCION (depende de CITA)
CREATE TABLE ATENCION (
    ID_ATENCION NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_CITA NUMBER NOT NULL,
    FECHA_INICIO DATE,
    FECHA_FIN DATE,
    MOTIVO_CONSULTA   VARCHAR2(150),
    HISTORIAL_CLINICO VARCHAR2(500),
    EXAMEN_FISICO     VARCHAR2(300),
    DIAGNOSTICO       VARCHAR2(100),
    CONSTRAINT FK_ATENCION_CITA FOREIGN KEY (ID_CITA)
        REFERENCES CITA(ID_CITA)
);

-- 13. TABLA CONTRATO (depende de PERSONAL)
CREATE TABLE CONTRATO (
    ID_CONTRATO       NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_PERSONAL       NUMBER NOT NULL,
    FECHA_REGISTRO    DATE,
    VIGENTE           CHAR(1) CHECK (VIGENTE IN ('S','N')),
    CONSTRAINT FK_CONTRATO_PERSONAL FOREIGN KEY (ID_PERSONAL)
        REFERENCES PERSONAL(ID_PERSONAL)
);

-- 14. TABLA EXPEDIENTE (depende de PACIENTE)
CREATE TABLE EXPEDIENTE (
    ID_EXPEDIENTE NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
    ID_PACIENTE   NUMBER NOT NULL,
    CREADO_EN     DATE,
    NOTAS         VARCHAR2(100),
    CONSTRAINT FK_EXPEDIENTE_PACIENTE FOREIGN KEY (ID_PACIENTE)
        REFERENCES PACIENTE(ID_PACIENTE)
);

  COMMIT;

-- ==================== VERIFICACIÓN DE TABLAS CREADAS ====================
SELECT * FROM PACIENTE;
SELECT * FROM PERSONAL;
SELECT * FROM CONSULTORIO;
SELECT * FROM CITA;
SELECT * FROM MEDICO;
SELECT * FROM CLINICA;
SELECT * FROM ESPECIALIDAD;
SELECT * FROM ESTADO_CITA;
SELECT * FROM MOTIVO_CANCELACION;
SELECT * FROM AGENDA_MEDICA;
SELECT * FROM AGENDA_HORARIO;
SELECT * FROM EXPEDIENTE;
SELECT * FROM CONTRATO;
SELECT * FROM ATENCION;

SELECT COUNT(*) as TOTAL_TABLAS_CREADAS FROM user_tables;
SELECT table_name FROM user_tables ORDER BY table_name;

-- ============================================================================
-- SECCIÓN 3: INSERCION DE DATOS EN TABLAS
-- Orden: respeta dependencias de FK
-- Servidor: CLINICA (4.156.223.214:1521/XEPDB1)
-- ============================================================================

-- ==================== TABLAS SIN DEPENDENCIAS ====================
-- 1. ESTADO_CITA
INSERT INTO ESTADO_CITA (NOMBRE_ESTADO, DESCRIPCION) VALUES ('Programada', 'Cita agendada por el paciente o personal médico');
INSERT INTO ESTADO_CITA (NOMBRE_ESTADO, DESCRIPCION) VALUES ('Confirmada', 'Cita verificada y confirmada por el paciente');
INSERT INTO ESTADO_CITA (NOMBRE_ESTADO, DESCRIPCION) VALUES ('Cancelada', 'Cita anulada antes de la atención');
INSERT INTO ESTADO_CITA (NOMBRE_ESTADO, DESCRIPCION) VALUES ('Atendida', 'Cita completada con atención médica realizada');
INSERT INTO ESTADO_CITA (NOMBRE_ESTADO, DESCRIPCION) VALUES ('No Asistió', 'Paciente no se presentó a la cita');
COMMIT;

-- 2. MOTIVO_CANCELACION
INSERT INTO MOTIVO_CANCELACION (NOMBRE, DESCRIPCION) VALUES ('Emergencia personal', 'El paciente tuvo una situación imprevista de salud o familiar');
INSERT INTO MOTIVO_CANCELACION (NOMBRE, DESCRIPCION) VALUES ('Problemas de transporte', 'El paciente no pudo trasladarse hasta la clínica');
INSERT INTO MOTIVO_CANCELACION (NOMBRE, DESCRIPCION) VALUES ('Reprogramación solicitada', 'El paciente o médico solicitó mover la cita');
INSERT INTO MOTIVO_CANCELACION (NOMBRE, DESCRIPCION) VALUES ('Error administrativo', 'Error del sistema o de registro en la programación');
INSERT INTO MOTIVO_CANCELACION (NOMBRE, DESCRIPCION) VALUES ('Otros', 'Otro motivo sin definir');
COMMIT;

-- 3. ESPECIALIDAD
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Medicina General');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Pediatría');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Ginecología');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Cardiología');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Dermatología');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Oftalmología');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Ortopedia');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Neurología');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Psiquiatría');
INSERT INTO ESPECIALIDAD (NOMBRE) VALUES ('Otorrinolaringología');
COMMIT;

-- 4. CLINICA
INSERT INTO CLINICA (NOMBRE, CODIGO_CLINICA, TELEFONO) VALUES ('Clínica Bíblica Central', 'CB001', '2522-1000');
INSERT INTO CLINICA (NOMBRE, CODIGO_CLINICA, TELEFONO) VALUES ('Clínica Los Ángeles', 'CLA002', '2444-5500');
COMMIT;

-- 5. AGENDA_HORARIO
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (1, 'Lunes Mañana', 1, 'M', '07:00', '13:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (2, 'Lunes Tarde', 1, 'T', '13:00', '19:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (3, 'Martes Mañana', 2, 'M', '07:00', '13:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (4, 'Martes Tarde', 2, 'T', '13:00', '19:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (5, 'Miércoles Mañana', 3, 'M', '07:00', '13:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (6, 'Miércoles Tarde', 3, 'T', '13:00', '19:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (7, 'Jueves Mañana', 4, 'M', '07:00', '13:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (8, 'Jueves Tarde', 4, 'T', '13:00', '19:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (9, 'Viernes Mañana', 5, 'M', '07:00', '13:00');
INSERT INTO AGENDA_HORARIO (ID_HORARIO, HORARIO, DIA_SEMANA, TURNO, HORA_INICIO, HORA_FIN) VALUES (10, 'Viernes Tarde', 5, 'T', '13:00', '19:00');
COMMIT;

-- 6. PACIENTE (50+ registros)
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234567', 'María', 'José', 'Ramírez', 'Vargas', TO_DATE('12-06-1985', 'DD-MM-YYYY'), 'F', 'Paciente estable sin antecedentes.', '8881-2234', 'San José, Barrio Amón', 'maria.ramirez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234568', 'Luis', 'Fernando', 'Gómez', 'Cordero', TO_DATE('04-08-1992', 'DD-MM-YYYY'), 'M', 'Consulta general.', '8703-1145', 'Cartago, Paraíso', 'luis.gomez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234569', 'Sofía', 'Carolina', 'Pérez', 'Rojas', TO_DATE('23-03-1988', 'DD-MM-YYYY'), 'F', 'Alergia a penicilina.', '8992-3344', 'Heredia, San Francisco', 'sofia.perez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234570', 'Carlos', 'Manuel', 'Mora', 'Jiménez', TO_DATE('18-01-1977', 'DD-MM-YYYY'), 'M', 'Revisión anual.', '8822-9001', 'Alajuela, Desamparados', 'carlos.mora@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234571', 'Lucía', 'Beatriz', 'Fernández', 'Solano', TO_DATE('05-11-1994', 'DD-MM-YYYY'), 'F', 'Chequeo general.', '8501-7722', 'Puntarenas, Chacarita', 'lucia.fernandez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234572', 'Andrés', 'Felipe', 'Soto', 'García', TO_DATE('30-07-1983', 'DD-MM-YYYY'), 'M', 'Dolor lumbar persistente.', '8880-6677', 'Heredia, Belén', 'andres.soto@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234573', 'Elena', 'Patricia', 'Rodríguez', 'Méndez', TO_DATE('14-02-1975', 'DD-MM-YYYY'), 'F', 'Sin observaciones.', '8512-5589', 'Cartago, Tres Ríos', 'elena.rodriguez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234574', 'Pedro', 'Alonso', 'Campos', 'Leiva', TO_DATE('09-10-1968', 'DD-MM-YYYY'), 'M', 'Hipertensión controlada.', '8700-9988', 'San José, Escazú', 'pedro.campos@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234575', 'Valeria', 'Marisol', 'Jiménez', 'Cruz', TO_DATE('22-04-1999', 'DD-MM-YYYY'), 'F', 'Chequeo de rutina.', '8812-4401', 'Alajuela, Grecia', 'valeria.jimenez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234576', 'Ricardo', 'Antonio', 'Solís', 'Vega', TO_DATE('01-09-1973', 'DD-MM-YYYY'), 'M', 'Alergia controlada.', '8440-9088', 'Heredia, Santo Domingo', 'ricardo.solis@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234577', 'Laura', 'Isabel', 'Quesada', 'Monge', TO_DATE('11-12-1987', 'DD-MM-YYYY'), 'F', 'Tratamiento de seguimiento.', '8899-7733', 'San José, Curridabat', 'laura.quesada@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234578', 'Miguel', 'Ángel', 'Rojas', 'Salas', TO_DATE('28-05-1965', 'DD-MM-YYYY'), 'M', 'Control de presión arterial.', '8771-3344', 'Cartago, La Unión', 'miguel.rojas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234579', 'Gabriela', 'Fernanda', 'Hernández', 'Porras', TO_DATE('08-02-1990', 'DD-MM-YYYY'), 'F', 'Asma leve.', '8844-2211', 'San José, Pavas', 'gabriela.hernandez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234580', 'Daniel', 'Enrique', 'Gutiérrez', 'Arias', TO_DATE('15-06-1971', 'DD-MM-YYYY'), 'M', 'Consulta de control.', '8500-7744', 'Puntarenas, Barranca', 'daniel.gutierrez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234581', 'Andrea', 'Nicole', 'Castro', 'Ramírez', TO_DATE('19-08-1998', 'DD-MM-YYYY'), 'F', 'Examen médico laboral.', '8301-8822', 'Heredia, San Pablo', 'andrea.castro@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234582', 'José', 'Miguel', 'Vargas', 'Alvarado', TO_DATE('07-01-1979', 'DD-MM-YYYY'), 'M', 'Dolor de espalda.', '8888-9900', 'Alajuela, Poás', 'jose.vargas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234583', 'Patricia', 'Cecilia', 'Leiva', 'Campos', TO_DATE('24-04-1986', 'DD-MM-YYYY'), 'F', 'Control postoperatorio.', '8705-4432', 'Cartago, Turrialba', 'patricia.leiva@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234584', 'Carlos', 'Eduardo', 'Mora', 'Gómez', TO_DATE('11-03-1991', 'DD-MM-YYYY'), 'M', 'Chequeo médico.', '8891-9988', 'Heredia, San Isidro', 'carlos.morae@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234585', 'Camila', 'Rebeca', 'Jiménez', 'Vega', TO_DATE('29-05-1980', 'DD-MM-YYYY'), 'F', 'Chequeo preoperatorio.', '8820-5566', 'San José, Desamparados', 'camila.jimenez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234586', 'Diego', 'Esteban', 'Rodríguez', 'Solano', TO_DATE('21-07-1982', 'DD-MM-YYYY'), 'M', 'Evaluación médica inicial.', '8708-4444', 'Cartago, Oreamuno', 'diego.rodriguez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234587', 'Isabella', 'María', 'Pérez', 'García', TO_DATE('25-02-1997', 'DD-MM-YYYY'), 'F', 'Sin observaciones.', '8901-2332', 'Heredia, Barva', 'isabella.perez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234588', 'Mauricio', 'Alberto', 'Sánchez', 'Cordero', TO_DATE('10-11-1976', 'DD-MM-YYYY'), 'M', 'Control médico rutinario.', '8723-2211', 'San José, Hatillo', 'mauricio.sanchez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234589', 'Gabriela', 'Elena', 'Torres', 'Gómez', TO_DATE('30-09-1995', 'DD-MM-YYYY'), 'F', 'Chequeo preventivo.', '8512-1233', 'Alajuela, San Ramón', 'gabriela.torres@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234590', 'Fernando', 'José', 'Rojas', 'Méndez', TO_DATE('12-05-1964', 'DD-MM-YYYY'), 'M', 'Tratamiento de seguimiento.', '8700-2344', 'Cartago, Orosí', 'fernando.rojas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234591', 'Daniela', 'Sofía', 'Gómez', 'Jiménez', TO_DATE('06-12-1992', 'DD-MM-YYYY'), 'F', 'Paciente sin alergias.', '8999-3300', 'San José, Rohrmoser', 'daniela.gomez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234592', 'Roberto', 'Manuel', 'Solís', 'Alpízar', TO_DATE('14-08-1970', 'DD-MM-YYYY'), 'M', 'Chequeo médico anual.', '8811-9001', 'Heredia, Santo Tomás', 'roberto.solis@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234593', 'Valentina', 'Lucía', 'Ramírez', 'Rojas', TO_DATE('04-02-1984', 'DD-MM-YYYY'), 'F', 'Consulta general.', '8500-1234', 'Cartago, Agua Caliente', 'valentina.ramirez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234594', 'Juan', 'José', 'Fernández', 'Gómez', TO_DATE('15-01-1989', 'DD-MM-YYYY'), 'M', 'Revisión médica.', '8702-3344', 'Alajuela, La Garita', 'juan.fernandez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234595', 'Alejandra', 'Patricia', 'Vega', 'Mora', TO_DATE('10-04-1993', 'DD-MM-YYYY'), 'F', 'Chequeo de control.', '8891-7788', 'San José, Sabanilla', 'alejandra.vega@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234596', 'Cristian', 'Andrés', 'Jiménez', 'Soto', TO_DATE('28-06-1978', 'DD-MM-YYYY'), 'M', 'Control regular.', '8512-4455', 'Heredia, Mercedes', 'cristian.jimenez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234597', 'Paola', 'María', 'Sánchez', 'Torres', TO_DATE('12-03-1985', 'DD-MM-YYYY'), 'F', 'Chequeo general anual.', '8709-1122', 'San José, Pavas', 'paola.sanchez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234598', 'Jorge', 'Andrés', 'Mora', 'Fernández', TO_DATE('09-09-1979', 'DD-MM-YYYY'), 'M', 'Control de presión arterial.', '8800-7766', 'Heredia, Ulloa', 'jorge.mora@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234599', 'Verónica', 'Elena', 'Pérez', 'Arias', TO_DATE('25-01-1996', 'DD-MM-YYYY'), 'F', 'Chequeo preoperatorio.', '8871-5533', 'Cartago, El Tejar', 'veronica.perez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234600', 'David', 'Fernando', 'Campos', 'Solano', TO_DATE('02-10-1982', 'DD-MM-YYYY'), 'M', 'Chequeo postoperatorio.', '8720-6655', 'San José, Zapote', 'david.campos@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234601', 'Melanie', 'Isabel', 'Jiménez', 'Rodríguez', TO_DATE('15-04-1994', 'DD-MM-YYYY'), 'F', 'Paciente sin alergias.', '8880-9988', 'Heredia, San Joaquín', 'melanie.jimenez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234602', 'Oscar', 'Manuel', 'Ramírez', 'Vega', TO_DATE('08-07-1980', 'DD-MM-YYYY'), 'M', 'Consulta general.', '8891-4411', 'Alajuela, La Fortuna', 'oscar.ramirez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234603', 'Natalia', 'Carolina', 'Méndez', 'Porras', TO_DATE('05-11-1993', 'DD-MM-YYYY'), 'F', 'Chequeo de rutina.', '8900-7788', 'Cartago, Oreamuno', 'natalia.mendez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234604', 'Francisco', 'Javier', 'Leiva', 'Campos', TO_DATE('11-06-1975', 'DD-MM-YYYY'), 'M', 'Chequeo de control.', '8822-3344', 'San José, Tibás', 'francisco.leiva@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234605', 'Tatiana', 'María', 'Soto', 'Jiménez', TO_DATE('18-12-1990', 'DD-MM-YYYY'), 'F', 'Examen médico laboral.', '8831-9000', 'Heredia, San Pablo', 'tatiana.soto@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234606', 'Mario', 'José', 'Gómez', 'Cordero', TO_DATE('10-02-1977', 'DD-MM-YYYY'), 'M', 'Control regular.', '8501-1234', 'Cartago, Paraíso', 'mario.gomez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234607', 'Fabiola', 'Andrea', 'Quesada', 'Sánchez', TO_DATE('28-09-1995', 'DD-MM-YYYY'), 'F', 'Sin observaciones.', '8702-4432', 'Alajuela, Grecia', 'fabiola.quesada@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234608', 'Manuel', 'Antonio', 'Cordero', 'Rojas', TO_DATE('13-01-1988', 'DD-MM-YYYY'), 'M', 'Chequeo médico.', '8700-2299', 'Heredia, San Francisco', 'manuel.cordero@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234609', 'Carolina', 'Isabel', 'Rodríguez', 'Solano', TO_DATE('21-10-1994', 'DD-MM-YYYY'), 'F', 'Consulta de rutina.', '8888-1111', 'Cartago, La Unión', 'carolina.rodriguez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234610', 'Sebastián', 'Eduardo', 'Vega', 'Campos', TO_DATE('29-03-1986', 'DD-MM-YYYY'), 'M', 'Chequeo preventivo.', '8722-5566', 'San José, Hatillo', 'sebastian.vega@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234611', 'Mariana', 'Beatriz', 'Fernández', 'Gómez', TO_DATE('17-08-1992', 'DD-MM-YYYY'), 'F', 'Control de seguimiento.', '8701-3344', 'Alajuela, San Ramón', 'mariana.fernandez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234612', 'Rodrigo', 'José', 'Solís', 'Alpízar', TO_DATE('11-09-1971', 'DD-MM-YYYY'), 'M', 'Chequeo general.', '8704-8899', 'Heredia, Santo Domingo', 'rodrigo.solis@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234613', 'Daniela', 'Carolina', 'Rojas', 'Méndez', TO_DATE('05-07-1996', 'DD-MM-YYYY'), 'F', 'Paciente sin alergias.', '8511-9922', 'San José, Desamparados', 'daniela.rojas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234614', 'Felipe', 'Manuel', 'Vargas', 'Solano', TO_DATE('09-12-1980', 'DD-MM-YYYY'), 'M', 'Consulta médica general.', '8880-4433', 'Cartago, Turrialba', 'felipe.vargas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234615', 'Claudia', 'María', 'Ramírez', 'Arias', TO_DATE('27-11-1998', 'DD-MM-YYYY'), 'F', 'Chequeo de control.', '8720-8899', 'Heredia, San Isidro', 'claudia.ramirez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234616', 'Ricardo', 'Antonio', 'Porras', 'Jiménez', TO_DATE('13-10-1979', 'DD-MM-YYYY'), 'M', 'Chequeo general anual.', '8702-9933', 'Alajuela, Grecia', 'ricardo.porras@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234617', 'María', 'Fernanda', 'Torres', 'Gómez', TO_DATE('16-02-1985', 'DD-MM-YYYY'), 'F', 'Chequeo preventivo.', '8881-5566', 'San José, Curridabat', 'maria.fernanda@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234618', 'Esteban', 'Andrés', 'Leiva', 'Campos', TO_DATE('25-03-1983', 'DD-MM-YYYY'), 'M', 'Control de rutina.', '8900-7744', 'Cartago, Oreamuno', 'esteban.leiva@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234619', 'Alejandro', 'José', 'Mora', 'Sánchez', TO_DATE('22-09-1983', 'DD-MM-YYYY'), 'M', 'Chequeo médico.', '8706-4488', 'Heredia, San Isidro', 'alejandro.mora@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234620', 'Ana', 'Lucía', 'Salas', 'Vega', TO_DATE('17-05-1987', 'DD-MM-YYYY'), 'F', 'Control de rutina.', '8701-8899', 'San José, San Pedro', 'ana.salas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234621', 'Raúl', 'Enrique', 'Monge', 'Castro', TO_DATE('03-08-1974', 'DD-MM-YYYY'), 'M', 'Revisión médica.', '8890-2233', 'Alajuela, San Carlos', 'raul.monge@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234622', 'Silvia', 'María', 'Araya', 'Fernández', TO_DATE('20-12-1989', 'DD-MM-YYYY'), 'F', 'Consulta preventiva.', '8702-5544', 'Cartago, Dulce Nombre', 'silvia.araya@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234623', 'Héctor', 'Luis', 'Cordero', 'Guzmán', TO_DATE('14-03-1981', 'DD-MM-YYYY'), 'M', 'Control de diabetes.', '8811-6677', 'Heredia, Santa Bárbara', 'hector.cordero@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234624', 'Mónica', 'Isabel', 'Vargas', 'Solís', TO_DATE('08-10-1996', 'DD-MM-YYYY'), 'F', 'Chequeo anual.', '8701-3322', 'San José, Moravia', 'monica.vargas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234625', 'Guillermo', 'Antonio', 'Ramírez', 'Chaves', TO_DATE('26-07-1972', 'DD-MM-YYYY'), 'M', 'Examen de control.', '8890-4455', 'Alajuela, Atenas', 'guillermo.ramirez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234626', 'Beatriz', 'Elena', 'Jiménez', 'Mora', TO_DATE('19-04-1991', 'DD-MM-YYYY'), 'F', 'Seguimiento médico.', '8709-7788', 'Cartago, Paraíso', 'beatriz.jimenez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234627', 'Tomás', 'Alfredo', 'Rojas', 'Villalobos', TO_DATE('11-01-1969', 'DD-MM-YYYY'), 'M', 'Consulta por dolor articular.', '8812-9900', 'Heredia, Flores', 'tomas.rojas@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234628', 'Sandra', 'Patricia', 'Hernández', 'Umaña', TO_DATE('05-06-1993', 'DD-MM-YYYY'), 'F', 'Chequeo preventivo.', '8701-1122', 'San José, Goicoechea', 'sandra.hernandez@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234629', 'Ernesto', 'Rafael', 'Picado', 'Porras', TO_DATE('27-11-1978', 'DD-MM-YYYY'), 'M', 'Control de presión.', '8890-3344', 'Alajuela, Palmares', 'ernesto.picado@example.com');
INSERT INTO PACIENTE (CEDULA, PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, FECHA_NACIMIENTO, SEXO, OBSERVACIONES, TELEFONO, DIRECCION, CORREO_ELECTRONICO) VALUES ('101234630', 'Lorena', 'Marcela', 'Castro', 'Monge', TO_DATE('16-09-1986', 'DD-MM-YYYY'), 'F', 'Consulta general.', '8702-5566', 'Cartago, El Guarco', 'lorena.castro@example.com');
COMMIT;

-- 7. PERSONAL (40 registros)
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Abby', 'Fernanda', 'Herrera', 'Vargas', 'Enfermera', 'S', 'maria.fernanda@clinicabiblica.com', '8881-2234', 'Barrio Escalante', 'San José', 'San José', 'Carmen');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('José', 'Antonio', 'Segura', 'Rojas', 'Doctor General', 'S', 'jose.antonio@clinicabiblica.com', '8701-1122', 'San Rafael', 'Heredia', 'Heredia', 'San Rafael');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Laura', 'Patricia', 'Monge', 'Hidalgo', 'Recepcionista', 'S', 'laura.patricia@clinicabiblica.com', '8820-3344', 'Tres Ríos', 'Cartago', 'La Unión', 'Tres Ríos');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Andrés', 'Felipe', 'Jiménez', 'Altamirano', 'Administrador', 'S', 'andres.felipe@clinicabiblica.com', '8877-4455', 'Barrio Amón', 'San José', 'San José', 'Carmen');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Carolina', 'Isabel', 'Salazar', 'Venegas', 'Farmacéutica', 'S', 'carolina.isabel@clinicabiblica.com', '8999-2233', 'Guadalupe', 'San José', 'Goicoechea', 'Guadalupe');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Pedro', 'Alonso', 'Carrillo', 'Quesada','Doctor Especialista', 'S', 'pedro.alonso@clinicabiblica.com', '8501-9900', 'Escazú Centro', 'San José', 'Escazú', 'San Rafael');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Valeria', 'Nicole', 'Murillo', 'González', 'Asistente Médica', 'N', 'valeria.nicole@clinicabiblica.com', '8700-7788', 'La Sabana', 'San José', 'San José', 'Mata Redonda');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Ricardo', 'Manuel', 'Navarrete', 'Umaña', 'Técnico de Laboratorio', 'S', 'ricardo.manuel@clinicabiblica.com', '8891-5533', 'San Isidro', 'Heredia', 'Heredia', 'San Isidro');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Gabriela', 'Elena', 'Pineda', 'Rodríguez', 'Enfermera Jefe', 'S', 'gabriela.elena@clinicabiblica.com', '8512-4411', 'Barrio México', 'San José', 'San José', 'Merced');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Daniel', 'Eduardo', 'Barrantes', 'Durán', 'Paramédico', 'N', 'daniel.eduardo@clinicabiblica.com', '8833-2244', 'Cartago Centro', 'Cartago', 'Cartago', 'Oriental');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Sofía', 'María', 'Sandoval', 'Pérez', 'Doctora Pediatra', 'S', 'sofia.maria@clinicabiblica.com', '8708-1122', 'Desamparados', 'San José', 'Desamparados', 'San Miguel');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Felipe', 'Andrés', 'Figueroa', 'Mora', 'Guardia de Seguridad', 'S', 'felipe.andres@clinicabiblica.com', '8700-1122', 'San Sebastián', 'San José', 'San José', 'Hospital');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Paula', 'Jimena', 'Duarte', 'Morales', 'Doctora Ginecóloga', 'S', 'paula.jimena@clinicabiblica.com', '8882-6677', 'San Pedro', 'San José', 'Montes de Oca', 'San Pedro');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Francisco', 'Javier', 'Vargas', 'Palacios', 'Chofer de Ambulancia', 'N', 'francisco.javier@clinicabiblica.com', '8510-7788', 'Alajuela Centro', 'Alajuela', 'Alajuela', 'Canoas');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Tatiana', 'Rebeca', 'Paniagua', 'Araya', 'Recepcionista', 'S', 'tatiana.rebeca@clinicabiblica.com', '8821-2200', 'Sabanilla', 'San José', 'Montes de Oca', 'Sabanilla');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Jorge', 'Manuel', 'Anchía', 'Bolaños', 'Doctor Cirujano', 'S', 'jorge.manuel@clinicabiblica.com', '8709-3344', 'Heredia Centro', 'Heredia', 'Heredia', 'Mercedes');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Claudia', 'Marisol', 'Bustos', 'Hernández', 'Secretaria', 'S', 'claudia.marisol@clinicabiblica.com', '8891-4455', 'Curridabat', 'San José', 'Curridabat', 'Granadilla');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Oscar', 'Adrián', 'Coronado', 'Ortiz', 'Doctor Internista', 'S', 'oscar.adrian@clinicabiblica.com', '8704-7766', 'Heredia', 'Heredia', 'San Pablo', 'San Pablo');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Natalia', 'Patricia', 'Guillén', 'Vargas', 'Asistente Administrativa', 'S', 'natalia.patricia@clinicabiblica.com', '8990-4411', 'Guadalupe', 'San José', 'Goicoechea', 'Guadalupe');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Rodrigo', 'Alberto', 'Zúñiga', 'Palacios', 'Doctor Cardiologo', 'S', 'rodrigo.alberto@clinicabiblica.com', '8810-9900', 'San José Centro', 'San José', 'San José', 'Catedral');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Melissa', 'Lorena', 'Sánchez', 'Calderón', 'Enfermera Asistente', 'S', 'melissa.lorena@clinicabiblica.com', '8705-2211', 'San Francisco', 'Heredia', 'Heredia', 'San Francisco');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Fernando', 'José', 'Obando', 'Aguilar', 'Doctor Anestesiólogo', 'S', 'fernando.jose@clinicabiblica.com', '8888-3344', 'San Pablo', 'Heredia', 'Heredia', 'San Pablo');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Patricia', 'María', 'Restrepo', 'Herra', 'Secretaria Médica', 'S', 'patricia.maria@clinicabiblica.com', '8720-6655', 'Curridabat', 'San José', 'Curridabat', 'Granadilla');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Sergio', 'Alejandro', 'Carvajal', 'Azofeifa', 'Médico Residente', 'N', 'sergio.alejandro@clinicabiblica.com', '8833-7766', 'La Sabana', 'San José', 'San José', 'Mata Redonda');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Mariela', 'Cecilia', 'Fallas', 'Blanco', 'Asistente de Laboratorio', 'S', 'mariela.cecilia@clinicabiblica.com', '8701-9900', 'Tres Ríos', 'Cartago', 'La Unión', 'Tres Ríos');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Alberto', 'David', 'Madrigal', 'Porras', 'Contador', 'S', 'alberto.david@clinicabiblica.com', '8811-2233', 'San Pedro', 'San José', 'Montes de Oca', 'San Pedro');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Cristina', 'Marcela', 'Cubero', 'Flores', 'Doctora General', 'S', 'cristina.marcela@clinicabiblica.com', '8500-4455', 'Alajuela Centro', 'Alajuela', 'Alajuela', 'Desamparados');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Ricardo', 'Antonio', 'Alfaro', 'Arias', 'Mecánico de Equipo Médico', 'N', 'ricardo.antonio@clinicabiblica.com', '8900-9911', 'Pavas', 'San José', 'San José', 'Pavas');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Verónica', 'Sofía', 'Villalobos', 'Soto', 'Doctora Oftalmóloga', 'S', 'veronica.sofia@clinicabiblica.com', '8706-5533', 'Guadalupe', 'San José', 'Goicoechea', 'Guadalupe');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Luis', 'Enrique', 'Brenes', 'Castillo', 'Doctor Internista', 'S', 'luis.enrique@clinicabiblica.com', '8882-7700', 'Heredia Centro', 'Heredia', 'Heredia', 'Mercedes');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Paola', 'Jimena', 'Carazo', 'Peralta', 'Enfermera Asistente', 'S', 'paola.jimena@clinicabiblica.com', '8700-2211', 'San Rafael', 'Heredia', 'Heredia', 'San Rafael');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Gustavo', 'Miguel', 'Campos', 'Valverde', 'Doctor Geriatra', 'S', 'gustavo.miguel@clinicabiblica.com', '8709-9988', 'San Pablo', 'Heredia', 'Heredia', 'San Pablo');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Karla', 'Beatriz', 'Chaves', 'Bonilla', 'Técnico de Rayos X', 'S', 'karla.beatriz@clinicabiblica.com', '8890-5555', 'Desamparados', 'San José', 'Desamparados', 'San Miguel');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Rodrigo', 'Enrique', 'Alvarado', 'Montolla', 'Doctor Neurólogo', 'N', 'rodrigo.enrique@clinicabiblica.com', '8723-6677', 'Escazú', 'San José', 'Escazú', 'San Antonio');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Silvia', 'Cecilia', 'Palma', 'Cordero', 'Nutricionista', 'S', 'silvia.cecilia@clinicabiblica.com', '8701-3344', 'Guadalupe', 'San José', 'Goicoechea', 'Guadalupe');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Julio', 'Manuel', 'Salas', 'Herrera', 'Doctor Oncólogo', 'S', 'julio.manuel@clinicabiblica.com', '8710-6655', 'Heredia', 'Heredia', 'San Isidro', 'San Isidro');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Lucía', 'Fernanda', 'Arguedas', 'Esquivel', 'Asistente Administrativa', 'S', 'lucia.fernanda@clinicabiblica.com', '8811-7733', 'Barrio Luján', 'San José', 'San José', 'Hospital');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Mauricio', 'Alonso', 'Matarrita', 'Viquez', 'Doctor Ortopedista', 'S', 'mauricio.alonso@clinicabiblica.com', '8500-1199', 'San José', 'San José', 'San José', 'Mata Redonda');
INSERT INTO PERSONAL (PRIMER_NOMBRE, SEGUNDO_NOMBRE, PRIMER_APELLIDO, SEGUNDO_APELLIDO, PUESTO, ACTIVO, CORREO_ELECTRONICO, TELEFONO, DIRECCION, PROVINCIA, CANTON, DISTRITO) VALUES ('Carmen', 'Rosa', 'Jiménez', 'Vargas', 'Encargada de Limpieza', 'S', 'carmen.rosa@clinicabiblica.com', '8822-1199', 'Curridabat', 'San José', 'Curridabat', 'Granadilla');
COMMIT;

-- ==================== TABLAS CON DEPENDENCIAS ====================

-- 7. MEDICO (depende de PERSONAL y AGENDA_HORARIO)
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (1, 1);   -- Lunes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (2, 2);   -- Lunes Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (6, 3);   -- Martes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (11, 4);  -- Martes Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (13, 5);  -- Miércoles Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (15, 6);  -- Miércoles Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (17, 7);  -- Jueves Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (18, 8);  -- Jueves Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (19, 9);  -- Viernes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (20, 10); -- Viernes Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (21, 1);  -- Lunes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (23, 2);  -- Lunes Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (25, 3);  -- Martes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (27, 4);  -- Martes Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (30, 5);  -- Miércoles Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (32, 6);  -- Miércoles Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (35, 7);  -- Jueves Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (37, 8);  -- Jueves Tarde
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (38, 9);  -- Viernes Mañana
INSERT INTO MEDICO (ID_PERSONAL, ID_HORARIO) VALUES (39, 10); -- Viernes Tarde
COMMIT;

-- 8. MEDICO_ESPECIALIDAD (depende de MEDICO y ESPECIALIDAD)
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (1, 1, TO_DATE('01-01-2020', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (2, 4, TO_DATE('15-03-2019', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (3, 2, TO_DATE('10-07-2018', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (4, 3, TO_DATE('05-02-2021', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (5, 5, TO_DATE('20-08-2017', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (6, 6, TO_DATE('10-01-2020', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (7, 8, TO_DATE('14-05-2019', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (8, 7, TO_DATE('25-09-2021', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (9, 9, TO_DATE('30-06-2018', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (10, 10, TO_DATE('05-11-2016', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (11, 2, TO_DATE('01-04-2015', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (12, 3, TO_DATE('10-10-2020', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (13, 4, TO_DATE('05-07-2019', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (14, 1, TO_DATE('18-03-2017', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (15, 5, TO_DATE('22-06-2018', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (16, 9, TO_DATE('15-01-2020', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (17, 7, TO_DATE('11-02-2021', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (18, 6, TO_DATE('07-09-2019', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (19, 10, TO_DATE('01-05-2018', 'DD-MM-YYYY'), NULL);
INSERT INTO MEDICO_ESPECIALIDAD (ID_MEDICO, ID_ESPECIALIDAD, DESDE, HASTA) VALUES (20, 8, TO_DATE('03-03-2016', 'DD-MM-YYYY'), NULL);
COMMIT;

-- 9. CONSULTORIO (depende de CLINICA)
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (1, 'Consultorio 1', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (1, 'Consultorio 2', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (1, 'Consultorio 3', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (1, 'Consultorio 4', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (1, 'Consultorio 5', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (2, 'Consultorio 6', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (2, 'Consultorio 7', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (2, 'Consultorio 8', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (2, 'Consultorio 9', 'Medicina General');
INSERT INTO CONSULTORIO (ID_CLINICA, NOMBRE, TIPO) VALUES (2, 'Consultorio 10', 'Medicina General');
COMMIT;

-- 10. AGENDA_MEDICA (depende de MEDICO, CONSULTORIO y AGENDA_HORARIO) - CRÍTICO PARA CITAS
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (1, 1, 1, 1, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (2, 2, 2, 2, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (3, 3, 3, 3, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (4, 4, 4, 4, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (5, 5, 5, 5, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (6, 6, 6, 6, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (7, 7, 7, 7, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (8, 8, 8, 8, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (9, 9, 9, 9, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (10, 10, 10, 10, TO_DATE('2024-01-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (11, 11, 1, 1, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (12, 12, 2, 2, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (13, 13, 3, 3, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (14, 14, 4, 4, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (15, 15, 5, 5, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (16, 16, 6, 6, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (17, 17, 7, 7, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (18, 18, 8, 8, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (19, 19, 9, 9, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
INSERT INTO AGENDA_MEDICA (ID_AGENDA, ID_MEDICO, ID_CONSULTORIO, ID_HORARIO, VIGENTE_DESDE, VIGENTE_HASTA) VALUES (20, 20, 10, 10, TO_DATE('2024-02-01', 'YYYY-MM-DD'), NULL);
COMMIT;

-- 11. CITA (depende de PACIENTE, MEDICO, CONSULTORIO, ESTADO_CITA, MOTIVO_CANCELACION, AGENDA_MEDICA)
INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (12, 10, 3, 2, NULL, 14, TO_DATE('04-11-2025','DD-MM-YYYY'), TO_TIMESTAMP('2025-11-04 09:44','YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-04 10:14','YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (3, 13, 2, 1, NULL, 20, TO_DATE('05-11-2025','DD-MM-YYYY'), TO_TIMESTAMP('2025-11-05 08:48','YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-05 09:18','YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (14, 16, 7, 3, 1, 17, TO_DATE('06-11-2025','DD-MM-YYYY'), TO_TIMESTAMP('2025-11-06 10:17','YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-06 10:47','YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (7, 17, 9, 1, NULL, 1, TO_DATE('05-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-05 12:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-05 12:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (9, 2, 6, 2, NULL, 19, TO_DATE('15-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-15 08:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-15 09:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (18, 6, 3, 3, 1, 14, TO_DATE('09-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-09 13:45', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-09 14:15', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (23, 2, 5, 1, NULL, 4, TO_DATE('05-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-05 08:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-05 08:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (35, 18, 1, 2, NULL, 6, TO_DATE('06-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-06 08:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-06 09:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (7, 9, 3, 3, 1, 9, TO_DATE('07-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-07 09:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-07 09:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (49, 4, 10, 1, NULL, 14, TO_DATE('08-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-08 09:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-08 10:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (13, 7, 7, 3, 2, 11, TO_DATE('09-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-09 10:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-09 10:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (27, 12, 4, 1, NULL, 8, TO_DATE('10-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-10 10:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-10 11:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (51, 1, 2, 2, NULL, 5, TO_DATE('11-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-11 11:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-11 11:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (40, 15, 6, 3, 1, 13, TO_DATE('12-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-12 11:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-12 12:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (18, 10, 8, 1, NULL, 12, TO_DATE('13-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-13 12:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-13 12:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (12, 6, 9, 2, NULL, 7, TO_DATE('14-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-14 12:30', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-14 13:00', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (25, 10, 5, 2, NULL, 14, TO_DATE('15-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-15 08:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-15 08:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (18, 14, 7, 1, 2, 12, TO_DATE('16-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-16 09:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-16 09:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (40, 9, 6, 3, 1, 5, TO_DATE('17-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-17 10:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-17 10:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (5, 3, 2, 1, NULL, 4, TO_DATE('18-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-18 11:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-18 11:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (33, 17, 3, 2, NULL, 9, TO_DATE('19-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-19 12:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-19 12:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (51, 12, 10, 1, NULL, 6, TO_DATE('20-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-20 13:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-20 13:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (29, 6, 1, 3, 1, 2, TO_DATE('21-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-21 14:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-21 14:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (9, 20, 8, 1, NULL, 8, TO_DATE('22-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-22 15:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-22 15:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (46, 7, 4, 2, NULL, 10, TO_DATE('23-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-23 16:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-23 16:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');

INSERT INTO CITA (ID_PACIENTE, ID_MEDICO, ID_CONSULTORIO, ID_ESTADO, ID_MOTIVO_CANCELACION, ID_AGENDA, FECHA, HORA_AGENDADA_INICIO, HORA_AGENDADA_FIN, OBSERVACIONES) 
VALUES (12, 11, 9, 1, 2, 11, TO_DATE('24-11-2025', 'DD-MM-YYYY'), TO_TIMESTAMP('2025-11-24 17:00', 'YYYY-MM-DD HH24:MI'), TO_TIMESTAMP('2025-11-24 17:30', 'YYYY-MM-DD HH24:MI'), 'Consulta generada automáticamente.');
COMMIT;

-- 12. ATENCION (depende de CITA)
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (1, TO_DATE('01-11-2025', 'DD-MM-YYYY'), TO_DATE('01-11-2025', 'DD-MM-YYYY'), 'Dolor de cabeza persistente', 'Paciente con antecedentes de migraña. Episodios recurrentes en los últimos meses.', 'Presión normal, temperatura estable, reflejos normales.', 'Migraña');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (2, TO_DATE('02-11-2025', 'DD-MM-YYYY'), TO_DATE('02-11-2025', 'DD-MM-YYYY'), 'Dolor abdominal leve', 'Sin antecedentes gastrointestinales. Dolor desde hace 2 días.', 'Abdomen blando, sin masas ni dolor a la palpación profunda.', 'Gastritis leve');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (3, TO_DATE('03-11-2025', 'DD-MM-YYYY'), TO_DATE('03-11-2025', 'DD-MM-YYYY'), 'Chequeo anual general', 'Paciente acude anualmente. No enfermedades crónicas.', 'Examen físico sin hallazgos relevantes.', 'Buen estado general');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (4, TO_DATE('04-11-2025', 'DD-MM-YYYY'), TO_DATE('04-11-2025', 'DD-MM-YYYY'), 'Tos persistente por más de una semana', 'Fumador ocasional, sin antecedentes de asma.', 'Ruidos respiratorios leves en ambos pulmones.', 'Bronquitis leve');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (5, TO_DATE('05-11-2025', 'DD-MM-YYYY'), TO_DATE('05-11-2025', 'DD-MM-YYYY'), 'Control de presión arterial', 'Hipertensión diagnosticada hace 3 años.', 'Presión 140/90, buen estado general.', 'Hipertensión en control');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (6, TO_DATE('06-11-2025', 'DD-MM-YYYY'), TO_DATE('06-11-2025', 'DD-MM-YYYY'), 'Dolor muscular post ejercicio', 'Actividad física intensa reciente. No uso de medicamentos.', 'Dolor localizado en piernas, sin inflamación.', 'Dolor muscular tardío');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (7, TO_DATE('07-11-2025', 'DD-MM-YYYY'), TO_DATE('07-11-2025', 'DD-MM-YYYY'), 'Fiebre intermitente por 3 días', 'Sin antecedentes relevantes. No viajes recientes.', 'Temperatura 38.5°C, faringe enrojecida.', 'Faringitis viral');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (8, TO_DATE('08-11-2025', 'DD-MM-YYYY'), TO_DATE('08-11-2025', 'DD-MM-YYYY'), 'Dificultad para dormir', 'Estrés laboral reportado. No uso de medicamentos.', 'Signos vitales normales, sin hallazgos clínicos.', 'Insomnio leve');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (9, TO_DATE('09-11-2025', 'DD-MM-YYYY'), TO_DATE('09-11-2025', 'DD-MM-YYYY'), 'Dolor en rodilla izquierda', 'Lesión leve jugando fútbol, sin fracturas previas.', 'Inflamación leve y movilidad reducida.', 'Distensión ligamentaria');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (10, TO_DATE('10-11-2025', 'DD-MM-YYYY'), TO_DATE('10-11-2025', 'DD-MM-YYYY'), 'Evaluación por dolor lumbar', 'Paciente con historial de sedentarismo.', 'Dolor a la palpación en región lumbar baja.', 'Lumbalgia mecánica');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (11, TO_DATE('11-11-2025', 'DD-MM-YYYY'), TO_DATE('11-11-2025', 'DD-MM-YYYY'), 'Dolor torácico leve', 'Sin antecedentes cardíacos. No hay factores de riesgo conocidos.', 'Presión normal, ECG sin alteraciones.', 'Dolor muscular intercostal');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (12, TO_DATE('12-11-2025', 'DD-MM-YYYY'), TO_DATE('12-11-2025', 'DD-MM-YYYY'), 'Revisión posoperatoria', 'Paciente operado de apendicitis hace 2 semanas.', 'Herida en buen estado, sin signos de infección.', 'Recuperación adecuada');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (13, TO_DATE('13-11-2025', 'DD-MM-YYYY'), TO_DATE('13-11-2025', 'DD-MM-YYYY'), 'Consulta por alergia estacional', 'Alergias cada primavera. Uso ocasional de antihistamínicos.', 'Congestión nasal y ojos llorosos.', 'Rinitis alérgica');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (14, TO_DATE('14-11-2025', 'DD-MM-YYYY'), TO_DATE('14-11-2025', 'DD-MM-YYYY'), 'Dolor en el cuello', 'Postura incorrecta en el trabajo. Sin lesiones previas.', 'Rigidez muscular en cuello y hombros.', 'Tortícolis leve');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (15, TO_DATE('15-11-2025', 'DD-MM-YYYY'), TO_DATE('15-11-2025', 'DD-MM-YYYY'), 'Revisión pediátrica de rutina', 'Niño sano. Todas las vacunas al día.', 'Peso y talla acorde a la edad, reflejos normales.', 'Desarrollo normal');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (16, TO_DATE('16-11-2025', 'DD-MM-YYYY'), TO_DATE('16-11-2025', 'DD-MM-YYYY'), 'Control post COVID-19', 'COVID positivo hace 3 meses. Sin secuelas respiratorias graves.', 'Capacidad respiratoria adecuada, saturación 98%.', 'Evolución favorable post-COVID');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (17, TO_DATE('17-11-2025', 'DD-MM-YYYY'), TO_DATE('17-11-2025', 'DD-MM-YYYY'), 'Visión borrosa intermitente', 'Hipermetropía diagnosticada. No usa lentes.', 'No alteraciones neurológicas. Prueba visual con déficit leve.', 'Descompensación visual');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (18, TO_DATE('18-11-2025', 'DD-MM-YYYY'), TO_DATE('18-11-2025', 'DD-MM-YYYY'), 'Chequeo ginecológico anual', 'Sin antecedentes. Ciclos menstruales regulares.', 'Examen pélvico sin hallazgos. Se envía citología.', 'Consulta de rutina');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (19, TO_DATE('19-11-2025', 'DD-MM-YYYY'), TO_DATE('19-11-2025', 'DD-MM-YYYY'), 'Dolor en el tobillo derecho', 'Torcedura durante ejercicio. No puede apoyar el pie.', 'Inflamación leve, sin hematomas.', 'Esguince leve');
INSERT INTO ATENCION (ID_CITA, FECHA_INICIO, FECHA_FIN, MOTIVO_CONSULTA, HISTORIAL_CLINICO, EXAMEN_FISICO, DIAGNOSTICO) VALUES (20, TO_DATE('20-11-2025', 'DD-MM-YYYY'), TO_DATE('20-11-2025', 'DD-MM-YYYY'), 'Sensación de mareo y debilidad', 'No enfermedades crónicas. No ha comido bien últimamente.', 'Presión baja, pulso normal.', 'Hipotensión por ayuno');
COMMIT;

-- 13. CONTRATO (depende de PERSONAL)
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (1, TO_DATE('01-01-2020', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (2, TO_DATE('15-03-2021', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (3, TO_DATE('10-07-2019', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (4, TO_DATE('05-02-2022', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (5, TO_DATE('20-08-2020', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (6, TO_DATE('10-01-2018', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (7, TO_DATE('14-05-2021', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (8, TO_DATE('25-09-2022', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (9, TO_DATE('30-06-2017', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (10, TO_DATE('05-11-2016', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (11, TO_DATE('01-04-2015', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (12, TO_DATE('10-10-2023', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (13, TO_DATE('05-07-2019', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (14, TO_DATE('18-03-2020', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (15, TO_DATE('22-06-2018', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (16, TO_DATE('15-01-2022', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (17, TO_DATE('11-02-2023', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (18, TO_DATE('07-09-2021', 'DD-MM-YYYY'), 'N');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (19, TO_DATE('01-05-2019', 'DD-MM-YYYY'), 'S');
INSERT INTO CONTRATO (ID_PERSONAL, FECHA_REGISTRO, VIGENTE) VALUES (20, TO_DATE('03-03-2022', 'DD-MM-YYYY'), 'S');
COMMIT;

-- 14. EXPEDIENTE (depende de PACIENTE)
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (2, TO_DATE('12-02-2023', 'DD-MM-YYYY'), 'Alergias registradas.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (3, TO_DATE('05-03-2023', 'DD-MM-YYYY'), 'Historial actualizado.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (4, TO_DATE('08-04-2023', 'DD-MM-YYYY'), 'Paciente con tratamiento de presión.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (5, TO_DATE('15-05-2023', 'DD-MM-YYYY'), 'Consulta odontológica.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (6, TO_DATE('20-06-2023', 'DD-MM-YYYY'), 'Seguimiento nutricional.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (7, TO_DATE('01-07-2023', 'DD-MM-YYYY'), 'Examen de sangre solicitado.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (8, TO_DATE('10-08-2023', 'DD-MM-YYYY'), 'Se añadió referencia a especialista.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (9, TO_DATE('15-09-2023', 'DD-MM-YYYY'), 'Observaciones menores.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (10, TO_DATE('22-10-2023', 'DD-MM-YYYY'), 'Paciente dado de alta.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (11, TO_DATE('01-11-2023', 'DD-MM-YYYY'), 'Chequeo prenatal.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (12, TO_DATE('03-12-2023', 'DD-MM-YYYY'), 'Evaluación psicológica.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (13, TO_DATE('10-01-2024', 'DD-MM-YYYY'), 'Tratamiento de diabetes.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (14, TO_DATE('20-01-2024', 'DD-MM-YYYY'), 'En seguimiento por nutrición.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (15, TO_DATE('05-02-2024', 'DD-MM-YYYY'), 'Consulta por cefaleas frecuentes.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (16, TO_DATE('15-02-2024', 'DD-MM-YYYY'), 'Historial revisado sin cambios.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (17, TO_DATE('25-02-2024', 'DD-MM-YYYY'), 'Paciente requiere estudios adicionales.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (18, TO_DATE('01-03-2024', 'DD-MM-YYYY'), 'Evaluación post-operatoria.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (19, TO_DATE('10-03-2024', 'DD-MM-YYYY'), 'Análisis de laboratorio pendiente.');
INSERT INTO EXPEDIENTE (ID_PACIENTE, CREADO_EN, NOTAS) VALUES (20, TO_DATE('20-03-2024', 'DD-MM-YYYY'), 'Paciente remitido a especialista.');
COMMIT;


-- ============================================================================
-- SECCIÓN 4: Script de Paquetes PL/SQL
-- Servidor: CLINICA (4.156.223.214:1521/XEPDB1)
-- ============================================================================
-- ==================== PERSONAL ====================

-- CABECERA
CREATE OR REPLACE PACKAGE pkg_personal AS

    -- ==================== INSERTAR ====================
    PROCEDURE agregar_personal (
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_puesto             IN VARCHAR2,
        pin_activo             IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_provincia          IN VARCHAR2,
        pin_canton             IN VARCHAR2,
        pin_distrito           IN VARCHAR2,
        pin_horario_trabajo    IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    );

    -- ==================== EDITAR ====================
    PROCEDURE editar_personal (
        pin_id_personal        IN NUMBER,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_puesto             IN VARCHAR2,
        pin_activo             IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_provincia          IN VARCHAR2,
        pin_canton             IN VARCHAR2,
        pin_distrito           IN VARCHAR2,
        pin_horario_trabajo    IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    );

    -- ==================== ELIMINAR ====================
    PROCEDURE eliminar_personal (
        pin_id_personal IN NUMBER,
        pout_resultado  OUT NUMBER,
        pout_mensaje    OUT VARCHAR2
    );

END pkg_personal;
/

--BODY
CREATE OR REPLACE PACKAGE BODY pkg_personal AS
    -- ==================== INSERTAR ====================
    PROCEDURE agregar_personal (
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_puesto             IN VARCHAR2,
        pin_activo             IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_provincia          IN VARCHAR2,
        pin_canton             IN VARCHAR2,
        pin_distrito           IN VARCHAR2,
        pin_horario_trabajo    IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    ) AS

        existe               NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);

        -- Cursor para validar correo existente
        CURSOR c_personal_correo (
            p_correo VARCHAR2
        ) IS
        SELECT
            1
        FROM
            personal
        WHERE
            correo_electronico = p_correo;

        v_dummy              NUMBER;
    BEGIN
        --Validaciones
        --NOMBRE
        IF TRIM(pin_primer_nombre) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer nombre'
                                    || con_salto;
        END IF;

        IF TRIM(pin_primer_apellido) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer apellido'
                                    || con_salto;
        END IF;
        --PUESTO
        IF TRIM(pin_puesto) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Puesto'
                                    || con_salto;
        END IF;
        --CORREO
        IF TRIM(pin_correo_electronico) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Correo electrónico'
                                    || con_salto;
        END IF;
        --TELEFONO
        IF TRIM(pin_telefono) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Teléfono'
                                    || con_salto;
        END IF;
        --DIRECCION
        IF TRIM(pin_direccion) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Dirección'
                                    || con_salto;
        END IF;
        --PROVINCIA
        IF TRIM(pin_provincia) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Provincia'
                                    || con_salto;
        END IF;
        --CANTON
        IF TRIM(pin_canton) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Cantón'
                                    || con_salto;
        END IF;
        --DISTRITO
        IF TRIM(pin_distrito) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Distrito'
                                    || con_salto;
        END IF;	
        --HORARIO_TRABAJO
        IF TRIM(pin_horario_trabajo) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Horario de trabajo'
                                    || con_salto;
        END IF;	
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- CORREO YA EXISTENTE
        existe := 0;
        OPEN c_personal_correo(pin_correo_electronico);
        FETCH c_personal_correo INTO v_dummy;
        IF c_personal_correo%found THEN
            existe := 1;
        END IF;
        CLOSE c_personal_correo;
        IF existe > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'Ya existe un personal con el correo ingresado';
            RETURN;
        END IF;
        --INSERT
        INSERT INTO personal (
            primer_nombre,
            segundo_nombre,
            primer_apellido,
            segundo_apellido,
            puesto,
            activo,
            correo_electronico,
            telefono,
            direccion,
            provincia,
            canton,
            distrito,
            horario_trabajo
        ) VALUES ( pin_primer_nombre,
                   pin_segundo_nombre,
                   pin_primer_apellido,
                   pin_segundo_apellido,
                   pin_puesto,
                   pin_activo,
                   pin_correo_electronico,
                   pin_telefono,
                   pin_direccion,
                   pin_provincia,
                   pin_canton,
                   pin_distrito,
                   pin_horario_trabajo );

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo crear el personal';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Personal ha sido creado';
        RETURN;
    END;

    -- ==================== EDITAR ====================
    PROCEDURE editar_personal (
        pin_id_personal        IN NUMBER,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_puesto             IN VARCHAR2,
        pin_activo             IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_provincia          IN VARCHAR2,
        pin_canton             IN VARCHAR2,
        pin_distrito           IN VARCHAR2,
        pin_horario_trabajo    IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    ) AS

        existe               NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);
    BEGIN
        -- VALIDAR ID
        IF pin_id_personal IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Debe seleccionar un usuario de personal';
            RETURN;
        END IF;
        -- VALIDACIONES
        IF TRIM(pin_primer_nombre) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer nombre'
                                    || con_salto;
        END IF;
        -- PRIMER APELLIDO
        IF TRIM(pin_primer_apellido) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer apellido'
                                    || con_salto;
        END IF;
        -- PUESTO
        IF TRIM(pin_puesto) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Puesto'
                                    || con_salto;
        END IF;
        -- CORREO
        IF TRIM(pin_correo_electronico) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Correo electrónico'
                                    || con_salto;
        END IF;
        -- TELÉFONO
        IF TRIM(pin_telefono) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Teléfono'
                                    || con_salto;
        END IF;
        -- DIRECCIÓN
        IF TRIM(pin_direccion) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Dirección'
                                    || con_salto;
        END IF;
        -- PROVINCIA
        IF TRIM(pin_provincia) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Provincia'
                                    || con_salto;
        END IF;
        -- CANTÓN
        IF TRIM(pin_canton) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Cantón'
                                    || con_salto;
        END IF;
        -- DISTRITO
        IF TRIM(pin_distrito) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Distrito'
                                    || con_salto;
        END IF;
        -- HORARIO_TRABAJO
        IF TRIM(pin_horario_trabajo) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Horario de trabajo'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Validar que el ID exista
        SELECT
            COUNT(*)
        INTO existe
        FROM
            personal
        WHERE
            id_personal = pin_id_personal;

        IF existe = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe personal con el ID ingresado';
            RETURN;
        END IF;

        -- Validar correo duplicado (excluyendo el mismo registro)
        SELECT
            COUNT(*)
        INTO existe
        FROM
            personal
        WHERE
                correo_electronico = pin_correo_electronico
            AND id_personal <> pin_id_personal;

        IF existe > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'Ya existe un personal con el correo ingresado';
            RETURN;
        END IF;

        -- UPDATE
        UPDATE personal
        SET
            primer_nombre = pin_primer_nombre,
            segundo_nombre = pin_segundo_nombre,
            primer_apellido = pin_primer_apellido,
            segundo_apellido = pin_segundo_apellido,
            puesto = pin_puesto,
            activo = pin_activo,
            correo_electronico = pin_correo_electronico,
            telefono = pin_telefono,
            direccion = pin_direccion,
            provincia = pin_provincia,
            canton = pin_canton,
            distrito = pin_distrito,
            horario_trabajo = pin_horario_trabajo
        WHERE
            id_personal = pin_id_personal;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar el personal seleccionado';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'El personal ha sido actualizado';
        RETURN;
    END;

    -- ==================== ELIMINAR ====================
    PROCEDURE eliminar_personal (
        pin_id_personal IN NUMBER,
        pout_resultado  OUT NUMBER,
        pout_mensaje    OUT VARCHAR2
    ) AS
        existe       NUMBER;
        tiene_citas  NUMBER;
        tiene_agenda NUMBER;
    BEGIN
        -- Validar ID
        IF pin_id_personal IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID del personal es obligatorio';
            RETURN;
        END IF;

        -- Validar que el ID exista
        SELECT
            COUNT(*)
        INTO existe
        FROM
            personal
        WHERE
            id_personal = pin_id_personal;

        IF existe = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe personal con el ID ingresado';
            RETURN;
        END IF;
        -- Validar relaciones
        SELECT
            COUNT(*)
        INTO tiene_citas
        FROM
            cita c
        WHERE
            c.id_medico IN (
                SELECT
                    m.id_medico
                FROM
                    medico m
                WHERE
                    m.id_personal = pin_id_personal
            );

        IF tiene_citas > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar el personal porque tiene citas asociadas.';
            RETURN;
        END IF;
        -- Validar agenda
        SELECT
            COUNT(*)
        INTO tiene_agenda
        FROM
            cita c
        WHERE
            c.id_agenda IN (
                SELECT
                    a.id_agenda
                FROM
                    agenda_medica a
                WHERE
                    a.id_medico IN (
                        SELECT
                            m.id_medico
                        FROM
                            medico m
                        WHERE
                            m.id_personal = pin_id_personal
                    )
            );

        IF tiene_agenda > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar el personal porque esta registrado como Doctor.';
            RETURN;
        END IF;

        -- DELETE
        DELETE FROM agenda_medica
        WHERE
            id_medico IN (
                SELECT
                    id_medico
                FROM
                    medico
                WHERE
                    id_personal = pin_id_personal
            );
        --BORRAR RELACIONES
        DELETE FROM medico_especialidad
        WHERE
            id_medico IN (
                SELECT
                    id_medico
                FROM
                    medico
                WHERE
                    id_personal = pin_id_personal
            );

        DELETE FROM medico
        WHERE
            id_personal = pin_id_personal;

        DELETE FROM contrato
        WHERE
            id_personal = pin_id_personal;
        --BORRAR PERSONAL
        DELETE FROM personal
        WHERE
            id_personal = pin_id_personal;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo eliminar el personal';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'El personal ha sido eliminado';
        RETURN;
    END;

END;
/

-- ==================== MEDICO ====================
-- CABECERA
CREATE OR REPLACE PACKAGE pkg_medico AS

    -- ==================== AGREGAR MÉDICO ====================
    PROCEDURE agregar_medico (
        pin_id_personal     IN NUMBER,
        pin_id_especialidad IN NUMBER,
        pout_resultado      OUT NUMBER,
        pout_mensaje        OUT VARCHAR2
    );

    -- ==================== EDITAR MÉDICO ====================
    PROCEDURE editar_medico (
        pin_id_medico       IN NUMBER,
        pin_nombre          IN VARCHAR2,
        pin_id_especialidad IN NUMBER,
        pout_resultado      OUT NUMBER,
        pout_mensaje        OUT VARCHAR2
    );

    -- ==================== ELIMINAR MÉDICO ====================
    PROCEDURE eliminar_medico (
        pin_id_medico  IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    );

END pkg_medico;
/

--BODY
CREATE OR REPLACE PACKAGE BODY pkg_medico AS

    -- ==================== AGREGAR MÉDICO ====================
    PROCEDURE agregar_medico (
        pin_id_personal     IN NUMBER,
        pin_id_especialidad IN NUMBER,
        pout_resultado      OUT NUMBER,
        pout_mensaje        OUT VARCHAR2
    ) AS

        var_existe_personal     NUMBER;
        var_existe_medico       NUMBER;
        var_existe_especialidad NUMBER;
        var_id_medico           medico.id_medico%TYPE;
        var_campos_faltantes    VARCHAR2(4000) := '';
        con_salto               CONSTANT VARCHAR2(2) := chr(10);

        -- Cursor para validar que el personal exista
        CURSOR c_personal (
            p_id_personal NUMBER
        ) IS
        SELECT
            id_personal
        FROM
            personal
        WHERE
            id_personal = p_id_personal;

        v_id_personal           personal.id_personal%TYPE;
    BEGIN
        -- Validaciones de campos obligatorios
        -- PERSONAL
        IF pin_id_personal IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Personal'
                                    || con_salto;
        END IF;
        -- ESPECIALIDAD
        IF pin_id_especialidad IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Especialidad'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Validar que el personal exista
        var_existe_personal := 0;
        OPEN c_personal(pin_id_personal);
        FETCH c_personal INTO v_id_personal;
        IF c_personal%found THEN
            var_existe_personal := 1;
        END IF;
        CLOSE c_personal;
        IF var_existe_personal = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe personal con el ID indicado';
            RETURN;
        END IF;

        -- Validar que el personal no sea ya médico
        SELECT
            COUNT(*)
        INTO var_existe_medico
        FROM
            medico
        WHERE
            id_personal = pin_id_personal;

        IF var_existe_medico > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'El personal seleccionado ya está registrado como médico';
            RETURN;
        END IF;

        -- Validar que la especialidad exista
        SELECT
            COUNT(*)
        INTO var_existe_especialidad
        FROM
            especialidad
        WHERE
            id_especialidad = pin_id_especialidad;

        IF var_existe_especialidad = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe la especialidad seleccionada';
            RETURN;
        END IF;

        -- INSERT en MEDICO
        DECLARE
            var_horario_personal NUMBER;
        BEGIN
        -- Obtener el HORARIO_TRABAJO del personal
            BEGIN
                SELECT
                    horario_trabajo
                INTO var_horario_personal
                FROM
                    personal
                WHERE
                    id_personal = pin_id_personal;

            EXCEPTION
                WHEN no_data_found THEN
                    var_horario_personal := NULL;
                WHEN OTHERS THEN
                    var_horario_personal := NULL;
            END;

            -- Insertar médico con el horario del personal (puede ser NULL)
            INSERT INTO medico (
                id_personal,
                id_horario
            ) VALUES ( pin_id_personal,
                       var_horario_personal ) RETURNING id_medico INTO var_id_medico;

        END;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo crear el médico';
            ROLLBACK;
            RETURN;
        END IF;

        -- INSERT en MEDICO_ESPECIALIDAD
        INSERT INTO medico_especialidad (
            id_medico,
            id_especialidad,
            desde,
            hasta
        ) VALUES ( var_id_medico,
                   pin_id_especialidad,
                   sysdate,
                   NULL );

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo asociar la especialidad al médico';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Médico ha sido creado correctamente';
        RETURN;
    END agregar_medico;

    -- ==================== EDITAR MÉDICO ====================
    PROCEDURE editar_medico (
        pin_id_medico       IN NUMBER,
        pin_nombre          IN VARCHAR2,
        pin_id_especialidad IN NUMBER,
        pout_resultado      OUT NUMBER,
        pout_mensaje        OUT VARCHAR2
    ) AS

        var_id_personal         personal.id_personal%TYPE;
        var_existe_medico       NUMBER;
        var_existe_especialidad NUMBER;
        var_campos_faltantes    VARCHAR2(4000) := '';
        con_salto               CONSTANT VARCHAR2(2) := chr(10);
        var_primer_nombre       VARCHAR2(100);
        var_segundo_nombre      VARCHAR2(200);
        var_pos                 NUMBER;
    BEGIN
        -- Validar ID médico
        IF pin_id_medico IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Debe seleccionar un médico';
            RETURN;
        END IF;
        --Validar nombre
        var_pos := instr(
            trim(pin_nombre),
            ' '
        );
        IF var_pos = 0 THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Nombre y Apellido'
                                    || con_salto;
        ELSE
            var_primer_nombre := substr(
                trim(pin_nombre),
                1,
                var_pos - 1
            );
            var_segundo_nombre := substr(
                trim(pin_nombre),
                var_pos + 1
            );
        END IF;

        -- Validaciones de campos obligatorios
        -- ESPECIALIDAD
        IF pin_id_especialidad IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Especialidad'
                                    || con_salto;
        END IF;

        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Validar que el médico exista y obtener ID_PERSONAL
        SELECT
            COUNT(*)
        INTO var_existe_medico
        FROM
            medico
        WHERE
            id_medico = pin_id_medico;

        IF var_existe_medico = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe médico con el ID ingresado';
            RETURN;
        END IF;
        -- Obtener ID_PERSONAL del médico
        SELECT
            id_personal
        INTO var_id_personal
        FROM
            medico
        WHERE
            id_medico = pin_id_medico;

        -- Validar que la especialidad exista
        SELECT
            COUNT(*)
        INTO var_existe_especialidad
        FROM
            especialidad
        WHERE
            id_especialidad = pin_id_especialidad;

        IF var_existe_especialidad = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe la especialidad seleccionada';
            RETURN;
        END IF;

        -- Actualizar datos del PERSONAL	
        UPDATE personal
        SET
            primer_nombre = var_primer_nombre,
            segundo_nombre = var_segundo_nombre
        WHERE
            id_personal = var_id_personal;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar los datos del personal';
            ROLLBACK;
            RETURN;
        END IF;

        -- Actualizar especialidad del médico
        UPDATE medico_especialidad
        SET
            id_especialidad = pin_id_especialidad
        WHERE
            id_medico = pin_id_medico;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar la especialidad del médico';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'El médico ha sido actualizado';
        RETURN;
    END editar_medico;

    -- ==================== ELIMINAR MÉDICO ====================
    PROCEDURE eliminar_medico (
        pin_id_medico  IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    ) AS
        v_existe_medico NUMBER;
        tiene_citas     NUMBER;
    BEGIN
        -- Validar ID
        IF pin_id_medico IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID del médico es obligatorio';
            RETURN;
        END IF;

        -- Validar que el médico exista
        SELECT
            COUNT(*)
        INTO v_existe_medico
        FROM
            medico
        WHERE
            id_medico = pin_id_medico;

        IF v_existe_medico = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe médico con el ID ingresado';
            RETURN;
        END IF;
        -- Validar relaciones de citas
        SELECT
            COUNT(*)
        INTO tiene_citas
        FROM
            cita
        WHERE
            id_medico = pin_id_medico;

        IF tiene_citas > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar el médico porque tiene citas asociadas.';
            RETURN;
        END IF;

        -- Borrar atenciones de las citas de este médico
        DELETE FROM atencion at
        WHERE
            at.id_cita IN (
                SELECT
                    c.id_cita
                FROM
                    cita c
                WHERE
                    c.id_medico = pin_id_medico
                    OR c.id_agenda IN (
                        SELECT
                            a.id_agenda
                        FROM
                            agenda_medica a
                        WHERE
                            a.id_medico = pin_id_medico
                    )
            );

        -- Borrar citas del médico o de su agenda
        DELETE FROM cita
        WHERE
            id_medico = pin_id_medico
            OR id_agenda IN (
                SELECT
                    a.id_agenda
                FROM
                    agenda_medica a
                WHERE
                    a.id_medico = pin_id_medico
            );

        -- Borrar agenda médica
        DELETE FROM agenda_medica
        WHERE
            id_medico = pin_id_medico;

        -- Borrar especialidades
        DELETE FROM medico_especialidad
        WHERE
            id_medico = pin_id_medico;

        -- Borrar médico
        DELETE FROM medico
        WHERE
            id_medico = pin_id_medico;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo eliminar el médico';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'El médico ha sido eliminado correctamente';
        RETURN;
    END eliminar_medico;

END pkg_medico;
/

-- ==================== PACIENTE` ====================

--CABECERA
CREATE OR REPLACE PACKAGE pkg_paciente AS
    -- ==================== AGREGAR PACIENTE ====================
    PROCEDURE agregar_paciente (
        pin_cedula             IN VARCHAR2,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_fecha_nacimiento   IN VARCHAR2,
        pin_sexo               IN VARCHAR2,
        pin_observaciones      IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    );
    -- ==================== EDITAR PACIENTE ====================
    PROCEDURE editar_paciente (
        pin_id                 IN NUMBER,
        pin_cedula             IN VARCHAR2,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_fecha_nacimiento   IN VARCHAR2,
        pin_sexo               IN VARCHAR2,
        pin_observaciones      IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    );
    -- ==================== ELIMINAR PACIENTE ====================
    PROCEDURE eliminar_paciente (
        pin_id         IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    );

END pkg_paciente;
/

--BODY
CREATE OR REPLACE PACKAGE BODY pkg_paciente AS
    -- ==================== AGREGAR PACIENTE ====================
    PROCEDURE agregar_paciente (
        pin_cedula             IN VARCHAR2,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_fecha_nacimiento   IN VARCHAR2,
        pin_sexo               IN VARCHAR2,
        pin_observaciones      IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    ) AS

        fecha                DATE;
        existe               NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);

        -- Cursor para validar cédula existente
        CURSOR c_paciente_cedula (
            p_cedula VARCHAR2
        ) IS
        SELECT
            1
        FROM
            paciente
        WHERE
            cedula = p_cedula;

        v_dummy              NUMBER;
    BEGIN
        --Validaciones
        --CEDULA
        IF TRIM(pin_cedula) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Cédula'
                                    || con_salto;
        END IF;
        --NOMBRE
        IF TRIM(pin_primer_nombre) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer nombre'
                                    || con_salto;
        END IF;
        --APELLIDO
        IF TRIM(pin_primer_apellido) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer apellido'
                                    || con_salto;
        END IF;
        --FECHA
        IF TRIM(pin_fecha_nacimiento) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Fecha de nacimiento'
                                    || con_salto;
        END IF;
        --CONVERTIR FECHA
        BEGIN
            fecha := TO_DATE ( pin_fecha_nacimiento, 'YYYY-MM-DD' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de fecha inválido. Use YYYY-MM-DD';
                RETURN;
        END;
        --SEXO
        IF TRIM(pin_sexo) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Sexo'
                                    || con_salto;
        END IF;
        --TELEFONO
        IF TRIM(pin_telefono) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Teléfono'
                                    || con_salto;
        END IF;
        --DIRECCION
        IF TRIM(pin_direccion) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Dirección'
                                    || con_salto;
        END IF;
        --CORREO
        IF TRIM(pin_correo_electronico) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Correo electrónico'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;
        -- CÉDULA YA EXISTENTE
        existe := 0;
        OPEN c_paciente_cedula(pin_cedula);
        FETCH c_paciente_cedula INTO v_dummy;
        IF c_paciente_cedula%found THEN
            existe := 1;
        END IF;
        CLOSE c_paciente_cedula;
        IF existe > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'Ya existe un paciente con la cedula ingresada';
            RETURN;
        END IF;
        --INSERT
        INSERT INTO paciente (
            cedula,
            primer_nombre,
            segundo_nombre,
            primer_apellido,
            segundo_apellido,
            fecha_nacimiento,
            sexo,
            observaciones,
            telefono,
            direccion,
            correo_electronico
        ) VALUES ( pin_cedula,
                   pin_primer_nombre,
                   pin_segundo_nombre,
                   pin_primer_apellido,
                   pin_segundo_apellido,
                   fecha,
                   pin_sexo,
                   pin_observaciones,
                   pin_telefono,
                   pin_direccion,
                   pin_correo_electronico );

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo crear el paciente';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Paciente ha sido creado';
        RETURN;
    END;

    -- ==================== EDITAR PACIENTE ====================
    PROCEDURE editar_paciente (
        pin_id                 IN NUMBER,
        pin_cedula             IN VARCHAR2,
        pin_primer_nombre      IN VARCHAR2,
        pin_segundo_nombre     IN VARCHAR2,
        pin_primer_apellido    IN VARCHAR2,
        pin_segundo_apellido   IN VARCHAR2,
        pin_fecha_nacimiento   IN VARCHAR2,
        pin_sexo               IN VARCHAR2,
        pin_observaciones      IN VARCHAR2,
        pin_telefono           IN VARCHAR2,
        pin_direccion          IN VARCHAR2,
        pin_correo_electronico IN VARCHAR2,
        pout_resultado         OUT NUMBER,
        pout_mensaje           OUT VARCHAR2
    ) AS

        fecha                DATE;
        existe               NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);
    BEGIN
        --Validaciones
        --ID
        IF pin_id IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID del paciente es obligatorio';
            RETURN;
        END IF;
        --CEDULA
        IF TRIM(pin_cedula) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Cédula'
                                    || con_salto;
        END IF;
        --NOMBRE
        IF TRIM(pin_primer_nombre) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer nombre'
                                    || con_salto;
        END IF;
        --APELLIDO
        IF TRIM(pin_primer_apellido) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Primer apellido'
                                    || con_salto;
        END IF;
        --FECHA
        IF TRIM(pin_fecha_nacimiento) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Fecha de nacimiento'
                                    || con_salto;
        END IF;
        --CONVERTIR FECHA
        BEGIN
            fecha := TO_DATE ( pin_fecha_nacimiento, 'YYYY-MM-DD' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de fecha inválido. Use YYYY-MM-DD';
                RETURN;
        END;
        --SEXO
        IF TRIM(pin_sexo) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Sexo'
                                    || con_salto;
        END IF;
        --TELEFONO
        IF TRIM(pin_telefono) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Teléfono'
                                    || con_salto;
        END IF;
        --DIRECCION
        IF TRIM(pin_direccion) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Dirección'
                                    || con_salto;
        END IF;
        --CORREO
        IF TRIM(pin_correo_electronico) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Correo electrónico'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;
        --ID NO EXISTE
        SELECT
            COUNT(*)
        INTO existe
        FROM
            paciente
        WHERE
            id_paciente = pin_id;

        IF existe = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe paciente con el ID ingresado';
            RETURN;
        END IF;
        --CEDULA YA EXISTENTE
        SELECT
            COUNT(*)
        INTO existe
        FROM
            paciente
        WHERE
                cedula = pin_cedula
            AND id_paciente <> pin_id;

        IF existe > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'Ya existe un paciente con la cedula ingresada';
            RETURN;
        END IF;

        --UPDATE
        UPDATE paciente
        SET
            cedula = pin_cedula,
            primer_nombre = pin_primer_nombre,
            segundo_nombre = pin_segundo_nombre,
            primer_apellido = pin_primer_apellido,
            segundo_apellido = pin_segundo_apellido,
            fecha_nacimiento = fecha,
            sexo = pin_sexo,
            observaciones = pin_observaciones,
            telefono = pin_telefono,
            direccion = pin_direccion,
            correo_electronico = pin_correo_electronico
        WHERE
            id_paciente = pin_id;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar el paciente';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Paciente actualizado';
        RETURN;
    END;

    -- ==================== ELIMINAR PACIENTE ====================
    PROCEDURE eliminar_paciente (
        pin_id         IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    ) AS
        existe            NUMBER;
        tiene_citas       NUMBER;
        tiene_expedientes NUMBER;
    BEGIN
        --Validaciones
        --ID
        IF pin_id IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID del paciente es obligatorio';
            RETURN;
        END IF;
        --ID NO EXISTE
        SELECT
            COUNT(*)
        INTO existe
        FROM
            paciente
        WHERE
            id_paciente = pin_id;

        IF existe = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe paciente con el ID ingresado';
            RETURN;
        END IF;

        --TIENE CITAS ASOCIADAS
        SELECT
            COUNT(*)
        INTO tiene_citas
        FROM
            cita
        WHERE
            id_paciente = pin_id;

        IF tiene_citas > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar el paciente porque tiene citas asociadas';
            RETURN;
        END IF;

        --TIENE EPEDIENTES ASOCIADOS
        SELECT
            COUNT(*)
        INTO tiene_expedientes
        FROM
            expediente
        WHERE
            id_paciente = pin_id;

        IF tiene_expedientes > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar el paciente porque tiene expedientes asociadas';
            RETURN;
        END IF;

        --DELETE
        DELETE FROM paciente
        WHERE
            id_paciente = pin_id;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo eliminar el paciente';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Paciente eliminado';
        RETURN;
    END;

END;
/

-- ==================== CITA ====================

-- CABECERA
CREATE OR REPLACE PACKAGE pkg_cita AS

    -- ==================== AGREGAR CITA ====================
    PROCEDURE agregar_cita (
        pin_id_paciente    IN NUMBER,
        pin_id_medico      IN NUMBER,
        pin_fecha          IN VARCHAR2,
        pin_hora_inicio    IN VARCHAR2,
        pin_hora_fin       IN VARCHAR2,
        pin_id_estado      IN NUMBER,
        pin_id_consultorio IN NUMBER,
        pin_observaciones  IN VARCHAR2,
        pout_resultado     OUT NUMBER,
        pout_mensaje       OUT VARCHAR2
    );

    -- ==================== EDITAR CITA ====================
    PROCEDURE editar_cita (
        pin_id_cita               IN NUMBER,
        pin_id_paciente           IN NUMBER,
        pin_id_medico             IN NUMBER,
        pin_fecha                 IN VARCHAR2,
        pin_hora_inicio           IN VARCHAR2,
        pin_hora_fin              IN VARCHAR2,
        pin_id_estado             IN NUMBER,
        pin_id_consultorio        IN NUMBER,
        pin_id_motivo_cancelacion IN NUMBER,
        pin_observaciones         IN VARCHAR2,
        pout_resultado            OUT NUMBER,
        pout_mensaje              OUT VARCHAR2
    );

    -- ==================== ELIMINAR CITA ====================
    PROCEDURE eliminar_cita (
        pin_id_cita    IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    );

    PROCEDURE cancelar_cita (
        pin_id_cita               IN NUMBER,
        pin_id_motivo_cancelacion IN NUMBER,
        pin_observaciones         IN VARCHAR2,
        pout_resultado            OUT NUMBER,
        pout_mensaje              OUT VARCHAR2
    );

END;
/

-- BODY

CREATE OR REPLACE PACKAGE BODY pkg_cita AS

    -- FUNCION PRIVADA
    -- Convierte fecha a día de la semana en formato AGENDA_HORARIO
    FUNCTION convertir_dia_semana (
        pin_fecha DATE
    ) RETURN NUMBER IS
        var_dia_oracle VARCHAR2(1);
        var_dia_agenda NUMBER;
    BEGIN
        SELECT
            to_char(pin_fecha, 'D')
        INTO var_dia_oracle
        FROM
            dual;

        -- Convertir formato Oracle a AGENDA_HORARIO
        var_dia_agenda :=
            CASE var_dia_oracle
                WHEN '1' THEN
                    7  -- Domingo
                WHEN '2' THEN
                    1  -- Lunes
                WHEN '3' THEN
                    2  -- Martes
                WHEN '4' THEN
                    3  -- Miércoles
                WHEN '5' THEN
                    4  -- Jueves
                WHEN '6' THEN
                    5  -- Viernes
                WHEN '7' THEN
                    6  -- Sábado
            END;

        RETURN var_dia_agenda;
    END convertir_dia_semana;

    -- PROCEDIMIENTO PRIVADO
    -- Verifica día de semana, horario y disponibilidad
    PROCEDURE validar_disponibilidad_medico (
        pin_id_medico       IN NUMBER,
        pin_fecha           IN DATE,
        pin_hora_ini        IN TIMESTAMP,
        pin_hora_fin        IN TIMESTAMP,
        pout_horario_valido OUT NUMBER,
        pout_mensaje        OUT VARCHAR2
    ) IS

        var_dia_semana_num  NUMBER;
        var_hora_inicio_str VARCHAR2(5);
        var_hora_fin_str    VARCHAR2(5);
        var_horario_texto   VARCHAR2(500);
        var_tiene_horario   NUMBER := 0;
    BEGIN
        -- Obtener día de la semana convertido
        var_dia_semana_num := convertir_dia_semana(pin_fecha);

        -- Verificar si es fin de semana (Sábado=6, Domingo=7)
        IF var_dia_semana_num >= 6 THEN
            pout_horario_valido := 0;
            pout_mensaje := 'No se pueden agendar citas los fines de semana. Por favor seleccione un día entre Lunes y Viernes.';
            RETURN;
        END IF;

        -- Verificar si el médico tiene horario configurado
        SELECT
            COUNT(*)
        INTO var_tiene_horario
        FROM
            medico m
        WHERE
                m.id_medico = pin_id_medico
            AND m.id_horario IS NOT NULL;

        IF var_tiene_horario = 0 THEN
            pout_horario_valido := 0;
            pout_mensaje := 'El médico seleccionado no tiene horarios configurados. Por favor contacte al administrador.';
            RETURN;
        END IF;

        var_hora_inicio_str := to_char(pin_hora_ini, 'HH24:MI');
        var_hora_fin_str := to_char(pin_hora_fin, 'HH24:MI');

        -- Verificar si existe una agenda para este médico en este día y turno
        SELECT
            COUNT(*)
        INTO pout_horario_valido
        FROM
                 medico m
            JOIN agenda_horario ah ON ah.id_horario = m.id_horario
        WHERE
                m.id_medico = pin_id_medico
            AND ah.dia_semana = var_dia_semana_num
            AND var_hora_inicio_str >= ah.hora_inicio
            AND var_hora_fin_str <= ah.hora_fin;

        IF pout_horario_valido = 0 THEN
        -- Obtener horarios disponibles del médico para mostrar en el mensaje
            BEGIN
                SELECT
                    LISTAGG(ah.horario
                            || ' ('
                            || ah.hora_inicio
                            || '-'
                            || ah.hora_fin
                            || ')', ', ') WITHIN GROUP(
                    ORDER BY
                        ah.dia_semana, ah.turno
                    )
                INTO var_horario_texto
                FROM
                         medico m
                    JOIN agenda_horario ah ON ah.id_horario = m.id_horario
                WHERE
                    m.id_medico = pin_id_medico;

            EXCEPTION
                WHEN OTHERS THEN
                    var_horario_texto := NULL;
            END;

            IF var_horario_texto IS NOT NULL THEN
                pout_mensaje := 'La fecha/hora seleccionada no coincide con el horario del médico. Horarios disponibles: '
                                || var_horario_texto
                                || '. Por favor seleccione un día y horario correcto.';
            ELSE
                pout_mensaje := 'El médico no tiene horarios configurados. Por favor contacte al administrador.';
            END IF;

        END IF;

    END validar_disponibilidad_medico;

    -- ==================== AGREGAR CITA ====================
    PROCEDURE agregar_cita (
        pin_id_paciente    IN NUMBER,
        pin_id_medico      IN NUMBER,
        pin_fecha          IN VARCHAR2,
        pin_hora_inicio    IN VARCHAR2,
        pin_hora_fin       IN VARCHAR2,
        pin_id_estado      IN NUMBER,
        pin_id_consultorio IN NUMBER,
        pin_observaciones  IN VARCHAR2,
        pout_resultado     OUT NUMBER,
        pout_mensaje       OUT VARCHAR2
    ) AS

        var_fecha            DATE;
        var_hora_ini         TIMESTAMP;
        var_hora_fin         TIMESTAMP;
        var_id_estado_prog   NUMBER;
        var_count            NUMBER;
        var_citas            NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);
    BEGIN

        -- Validaciones de campos obligatorios
        -- PACIENTE
        IF pin_id_paciente IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Paciente'
                                    || con_salto;
        END IF;
        -- MÉDICO
        IF pin_id_medico IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Médico'
                                    || con_salto;
        END IF;
        -- FECHA
        IF TRIM(pin_fecha) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Fecha'
                                    || con_salto;
        END IF;
        -- HORA INICIO
        IF TRIM(pin_hora_inicio) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Hora de inicio'
                                    || con_salto;
        END IF;
        -- HORA FIN
        IF TRIM(pin_hora_fin) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Hora de fin'
                                    || con_salto;
        END IF;
        -- ESTADO
        IF pin_id_estado IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Estado'
                                    || con_salto;
        END IF;
        -- CONSULTORIO
        IF pin_id_consultorio IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Consultorio'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Conversión de fecha y horas
        BEGIN
            var_fecha := TO_DATE ( pin_fecha, 'DD/MM/YYYY' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de fecha inválido. Use DD/MM/YYYY';
                RETURN;
        END;
        -- Validar horas
        BEGIN
            var_hora_ini := TO_TIMESTAMP ( pin_fecha
                                           || ' '
                                           || pin_hora_inicio, 'DD/MM/YYYY HH24:MI' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de hora de inicio inválido. Use HH24:MI';
                RETURN;
        END;
        -- Validar horas
        BEGIN
            var_hora_fin := TO_TIMESTAMP ( pin_fecha
                                           || ' '
                                           || pin_hora_fin, 'DD/MM/YYYY HH24:MI' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de hora de fin inválido. Use HH24:MI';
                RETURN;
        END;

        IF var_hora_ini >= var_hora_fin THEN
            pout_resultado := 0;
            pout_mensaje := 'La hora de inicio debe ser menor que la hora de fin';
            RETURN;
        END IF;

        -- Validar existencia de Paciente y Médico
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            paciente
        WHERE
            id_paciente = pin_id_paciente;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el paciente seleccionado';
            RETURN;
        END IF;
        -- Validar existencia de Médico
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            medico
        WHERE
            id_medico = pin_id_medico;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el médico seleccionado';
            RETURN;
        END IF;
        -- Validar disponibilidad del médico en la fecha y hora seleccionada
        DECLARE
            var_horario_valido  NUMBER := 0;
            var_mensaje_horario VARCHAR2(500);
        BEGIN
            validar_disponibilidad_medico(
                pin_id_medico       => pin_id_medico,
                pin_fecha           => var_fecha,
                pin_hora_ini        => var_hora_ini,
                pin_hora_fin        => var_hora_fin,
                pout_horario_valido => var_horario_valido,
                pout_mensaje        => var_mensaje_horario
            );

            IF var_horario_valido = 0 THEN
                pout_resultado := 0;
                pout_mensaje := var_mensaje_horario;
                RETURN;
            END IF;

        END;
        -- Validar que no exista otra cita en el mismo rango
        SELECT
            COUNT(*)
        INTO var_citas
        FROM
            cita
        WHERE
                id_medico = pin_id_medico
            AND fecha = var_fecha
            AND var_hora_ini < hora_agendada_fin
            AND var_hora_fin > hora_agendada_inicio;

        IF var_citas > 0 THEN
            raise_application_error(-20012, 'Ya existe otra cita en ese rango de horas para ese médico/consultorio');
        END IF;

        -- INSERT en tabla CITA
        INSERT INTO cita (
            id_paciente,
            id_medico,
            id_consultorio,
            id_estado,
            fecha,
            hora_agendada_inicio,
            hora_agendada_fin,
            observaciones
        ) VALUES ( pin_id_paciente,
                   pin_id_medico,
                   pin_id_consultorio,
                   pin_id_estado,
                   var_fecha,
                   var_hora_ini,
                   var_hora_fin,
                   pin_observaciones );

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo crear la cita';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'La cita ha sido creada correctamente';
        RETURN;
    END;

    -- ==================== EDITAR CITA ====================
    PROCEDURE editar_cita (
        pin_id_cita               IN NUMBER,
        pin_id_paciente           IN NUMBER,
        pin_id_medico             IN NUMBER,
        pin_fecha                 IN VARCHAR2,
        pin_hora_inicio           IN VARCHAR2,
        pin_hora_fin              IN VARCHAR2,
        pin_id_estado             IN NUMBER,
        pin_id_consultorio        IN NUMBER,
        pin_id_motivo_cancelacion IN NUMBER,
        pin_observaciones         IN VARCHAR2,
        pout_resultado            OUT NUMBER,
        pout_mensaje              OUT VARCHAR2
    ) AS

        var_fecha            DATE;
        var_hora_ini         TIMESTAMP;
        var_hora_fin         TIMESTAMP;
        var_count            NUMBER;
        var_citas            NUMBER;
        var_campos_faltantes VARCHAR2(4000) := '';
        con_salto            CONSTANT VARCHAR2(2) := chr(10);
    BEGIN
        -- Validar ID de cita
        IF pin_id_cita IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID de la cita es obligatorio';
            RETURN;
        END IF;
        -- Validar existencia de la cita
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            cita
        WHERE
            id_cita = pin_id_cita;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe la cita seleccionada';
            RETURN;
        END IF;

        -- Validaciones básicas
        -- Paciente
        IF pin_id_paciente IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Paciente'
                                    || con_salto;
        END IF;
        -- Médico
        IF pin_id_medico IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Médico'
                                    || con_salto;
        END IF;
        -- Fecha
        IF TRIM(pin_fecha) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Fecha'
                                    || con_salto;
        END IF;
        -- Hora inicio
        IF TRIM(pin_hora_inicio) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Hora de inicio'
                                    || con_salto;
        END IF;
        -- Hora fin
        IF TRIM(pin_hora_fin) IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Hora de fin'
                                    || con_salto;
        END IF;
        -- Estado
        IF pin_id_estado IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Estado'
                                    || con_salto;
        END IF;
        -- Consultorio
        IF pin_id_consultorio IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Consultorio'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Conversión de fecha y horas
        BEGIN
            var_fecha := TO_DATE ( pin_fecha, 'DD/MM/YYYY' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de fecha inválido. Use DD/MM/YYYY';
                RETURN;
        END;
        -- Validar hora inicio
        BEGIN
            var_hora_ini := TO_TIMESTAMP ( pin_fecha
                                           || ' '
                                           || pin_hora_inicio, 'DD/MM/YYYY HH24:MI' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de hora de inicio inválido. Use HH24:MI';
                RETURN;
        END;
        -- Validar hora fin
        BEGIN
            var_hora_fin := TO_TIMESTAMP ( pin_fecha
                                           || ' '
                                           || pin_hora_fin, 'DD/MM/YYYY HH24:MI' );
        EXCEPTION
            WHEN OTHERS THEN
                pout_resultado := 0;
                pout_mensaje := 'Formato de hora de fin inválido. Use HH24:MI';
                RETURN;
        END;
        -- Validar rango de horas
        IF var_hora_ini >= var_hora_fin THEN
            pout_resultado := 0;
            pout_mensaje := 'La hora de inicio debe ser menor que la hora de fin';
            RETURN;
        END IF;

        -- Validar existencia de Paciente, Médico y Estado
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            paciente
        WHERE
            id_paciente = pin_id_paciente;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el paciente seleccionado';
            RETURN;
        END IF;
        -- Validar existencia de Médico
        SELECT  
            COUNT(*)
        INTO var_count
        FROM
            medico
        WHERE
            id_medico = pin_id_medico;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el médico seleccionado';
            RETURN;
        END IF;
        -- Validar existencia de Estado
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            estado_cita
        WHERE
            id_estado = pin_id_estado;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el estado seleccionado';
            RETURN;
        END IF;
        -- Validar disponibilidad del médico en la fecha y hora seleccionada
        DECLARE
            var_horario_valido  NUMBER := 0;
            var_mensaje_horario VARCHAR2(500);
        BEGIN
            validar_disponibilidad_medico(
                pin_id_medico       => pin_id_medico,
                pin_fecha           => var_fecha,
                pin_hora_ini        => var_hora_ini,
                pin_hora_fin        => var_hora_fin,
                pout_horario_valido => var_horario_valido,
                pout_mensaje        => var_mensaje_horario
            );

            IF var_horario_valido = 0 THEN
                pout_resultado := 0;
                pout_mensaje := var_mensaje_horario;
                RETURN;
            END IF;

        END;

        -- Validar que no exista otra cita en el mismo rango
        SELECT
            COUNT(*)
        INTO var_citas
        FROM
            cita
        WHERE
                id_medico = pin_id_medico
            AND fecha = var_fecha
            AND var_hora_ini < hora_agendada_fin
            AND var_hora_fin > hora_agendada_inicio;

        IF var_citas > 0 THEN
            raise_application_error(-20012, 'Ya existe otra cita en ese rango de horas para ese médico/consultorio');
        END IF;

        -- UPDATE de la cita
        UPDATE cita
        SET
            id_paciente = pin_id_paciente,
            id_medico = pin_id_medico,
            id_consultorio = pin_id_consultorio,
            fecha = var_fecha,
            hora_agendada_inicio = var_hora_ini,
            hora_agendada_fin = var_hora_fin,
            id_estado = pin_id_estado,
            id_motivo_cancelacion = pin_id_motivo_cancelacion,
            observaciones = pin_observaciones
        WHERE
            id_cita = pin_id_cita;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar la cita';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'La cita ha sido actualizada correctamente';
        RETURN;
    EXCEPTION
        WHEN OTHERS THEN
            pout_resultado := 0;
            -- Coloque una observación 
            IF sqlcode = -20022 THEN
                pout_mensaje := 'Coloque una observacion';
            -- Si el error viene del trigger por fecha en el pasado
            ELSIF sqlcode = -20020 THEN
                pout_mensaje := 'La fecha de la cita no puede estar en el pasado';
            
            -- Opcional: si querés manejar también el del trigger validar_rango_cita
            ELSIF sqlcode = -20010 THEN
                pout_mensaje := 'La cita no puede ser en una fecha/hora anterior a la actual';
            ELSE
                -- Cualquier otro error: limpiamos el ORA-xxxxx
                pout_mensaje := regexp_replace(sqlerrm, '^ORA-[0-9]+: *', '');
            END IF;

            RETURN;
    END;

    -- ==================== ELIMINAR CITA ====================
    PROCEDURE eliminar_cita (
        pin_id_cita    IN NUMBER,
        pout_resultado OUT NUMBER,
        pout_mensaje   OUT VARCHAR2
    ) AS

        var_count NUMBER;

        -- Cursor para verificar atenciones asociadas a la cita
        CURSOR c_atencion_cita (
            p_id_cita NUMBER
        ) IS
        SELECT
            1
        FROM
            atencion
        WHERE
            id_cita = p_id_cita;

        v_dummy   NUMBER;
    BEGIN
        -- Validar ID de cita
        IF pin_id_cita IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID de la cita es obligatorio';
            RETURN;
        END IF;
        -- Validar existencia de la cita
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            cita
        WHERE
            id_cita = pin_id_cita;

        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe la cita seleccionada';
            RETURN;
        END IF;

        -- Validar que no tenga atenciones asociadas
        var_count := 0;
        OPEN c_atencion_cita(pin_id_cita);
        FETCH c_atencion_cita INTO v_dummy;
        IF c_atencion_cita%found THEN
            var_count := 1;
        END IF;
        CLOSE c_atencion_cita;
        IF var_count > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se puede eliminar la cita porque tiene atenciones asociadas';
            RETURN;
        END IF;
        -- DELETE de la cita
        DELETE FROM cita
        WHERE
            id_cita = pin_id_cita;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo eliminar la cita';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'La cita ha sido eliminada correctamente';
        RETURN;
    END;

    -- ==================== CANCELAR CITA ====================
    PROCEDURE cancelar_cita (
        pin_id_cita               IN NUMBER,
        pin_id_motivo_cancelacion IN NUMBER,
        pin_observaciones         IN VARCHAR2,
        pout_resultado            OUT NUMBER,
        pout_mensaje              OUT VARCHAR2
    ) AS
        var_count          NUMBER;
        var_id_estado_canc NUMBER;
        var_observaciones  VARCHAR2(4000);
    BEGIN
        IF pin_id_cita IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID de la cita es obligatorio';
            RETURN;
        END IF;

        -- Validar que la cita exista
        SELECT
            COUNT(*)
        INTO var_count
        FROM
            cita
        WHERE
            id_cita = pin_id_cita;
        -- Si no existe la cita
        IF var_count = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe la cita seleccionada';
            RETURN;
        END IF;

        -- Obtener ID del estado "Cancelada"
        BEGIN
            SELECT
                id_estado
            INTO var_id_estado_canc
            FROM
                estado_cita
            WHERE
                nombre_estado = 'Cancelada';

        EXCEPTION
            WHEN no_data_found THEN
                pout_resultado := 0;
                pout_mensaje := 'No existe el estado "Cancelada" en la base de datos';
                RETURN;
        END;
        -- Asignar observaciones por defecto si no se proporcionan
        var_observaciones := trim(pin_observaciones);
        IF var_observaciones IS NULL THEN
            var_observaciones := 'Cancelada';
        END IF;

        -- Actualizar la cita a estado Cancelada
        UPDATE cita
        SET
            id_estado = var_id_estado_canc,
            id_motivo_cancelacion = pin_id_motivo_cancelacion,
            observaciones = var_observaciones
        WHERE
            id_cita = pin_id_cita;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo cancelar la cita';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'La cita ha sido cancelada correctamente';
        RETURN;
    END cancelar_cita;

END;
/

-- ==================== EXPEDIENTE ====================

-- CABECERA

CREATE OR REPLACE PACKAGE pkg_expediente AS

    -- ==================== CREAR EXPEDIENTE ====================
    PROCEDURE crear_expediente (
        pin_id_paciente IN NUMBER,
        pin_notas       IN VARCHAR2,
        pout_resultado  OUT NUMBER,
        pout_mensaje    OUT VARCHAR2
    );

    -- ==================== ACTUALIZAR EXPEDIENTE ====================
    PROCEDURE actualizar_expediente (
        pin_id_expediente IN NUMBER,
        pin_notas         IN VARCHAR2,
        pout_resultado    OUT NUMBER,
        pout_mensaje      OUT VARCHAR2
    );

END pkg_expediente;
/


--BODY
CREATE OR REPLACE PACKAGE BODY pkg_expediente AS

    -- ==================== CREAR EXPEDIENTE ====================
    PROCEDURE crear_expediente (
        pin_id_paciente IN NUMBER,
        pin_notas       IN VARCHAR2,
        pout_resultado  OUT NUMBER,
        pout_mensaje    OUT VARCHAR2
    ) AS

        var_existe_paciente   NUMBER;
        var_existe_expediente NUMBER;
        var_campos_faltantes  VARCHAR2(4000) := '';
        con_salto             CONSTANT VARCHAR2(2) := chr(10);
    BEGIN
        -- Validación de campo obligatorio
        IF pin_id_paciente IS NULL THEN
            var_campos_faltantes := var_campos_faltantes
                                    || '- Paciente'
                                    || con_salto;
        END IF;
        --VALIDAR SI HAY ERRORES
        IF var_campos_faltantes IS NOT NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'Los siguientes campos son obligatorios:'
                            || con_salto
                            || var_campos_faltantes;
            RETURN;
        END IF;

        -- Validar que el paciente exista
        SELECT
            COUNT(*)
        INTO var_existe_paciente
        FROM
            paciente
        WHERE
            id_paciente = pin_id_paciente;

        IF var_existe_paciente = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el paciente seleccionado';
            RETURN;
        END IF;

        -- Validar que el paciente no tenga ya un expediente
        SELECT
            COUNT(*)
        INTO var_existe_expediente
        FROM
            expediente
        WHERE
            id_paciente = pin_id_paciente;

        IF var_existe_expediente > 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'El paciente ya tiene un expediente registrado';
            RETURN;
        END IF;

        -- INSERT en EXPEDIENTE
        INSERT INTO expediente (
            id_paciente,
            creado_en,
            notas
        ) VALUES ( pin_id_paciente,
                   sysdate,
                   pin_notas );

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo crear el expediente';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'Expediente ha sido creado correctamente';
        RETURN;
    END crear_expediente;

    -- ==================== ACTUALIZAR EXPEDIENTE ====================
    PROCEDURE actualizar_expediente (
        pin_id_expediente IN NUMBER,
        pin_notas         IN VARCHAR2,
        pout_resultado    OUT NUMBER,
        pout_mensaje      OUT VARCHAR2
    ) AS
        var_existe_expediente NUMBER;
    BEGIN
        -- Validar ID de expediente
        IF pin_id_expediente IS NULL THEN
            pout_resultado := 0;
            pout_mensaje := 'El ID del expediente es obligatorio';
            RETURN;
        END IF;

        -- Validar que el expediente exista
        SELECT
            COUNT(*)
        INTO var_existe_expediente
        FROM
            expediente
        WHERE
            id_expediente = pin_id_expediente;

        IF var_existe_expediente = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No existe el expediente seleccionado';
            RETURN;
        END IF;

        -- UPDATE del expediente (solo se pueden actualizar las notas)
        UPDATE expediente
        SET
            notas = pin_notas
        WHERE
            id_expediente = pin_id_expediente;

        IF SQL%rowcount = 0 THEN
            pout_resultado := 0;
            pout_mensaje := 'No se pudo actualizar el expediente';
            ROLLBACK;
            RETURN;
        END IF;

        COMMIT;
        pout_resultado := 1;
        pout_mensaje := 'El expediente ha sido actualizado correctamente';
        RETURN;
    END actualizar_expediente;

END pkg_expediente;
/

-- ============================================================================
-- SECCIÓN 5: Script de Triggers para la base de datos 
-- Servidor: CLINICA (4.156.223.214:1521/XEPDB1)
-- ============================================================================
--------------------------
-- TRIGGERS
--------------------------

-- ==================== VALIDAR RANGO DE CITA ====================
CREATE OR REPLACE TRIGGER validar_rango_cita
    BEFORE INSERT OR UPDATE OF fecha, hora_agendada_inicio, hora_agendada_fin
    ON cita
    FOR EACH ROW
DECLARE
    var_citas NUMBER;
BEGIN
-- Validar que la cita no sea en el pasado
    IF :new.hora_agendada_inicio < systimestamp THEN
        raise_application_error(-20010, 'La cita no puede ser en una fecha/hora anterior a la actual');
    END IF;

-- validar que inicio < fin
    IF :new.hora_agendada_inicio >= :new.hora_agendada_fin THEN
        raise_application_error(-20011, 'La hora de inicio debe ser menor que la hora de fin');
    END IF;

END;
/

-- ==================== VALIDAR PACIENTE ====================
CREATE OR REPLACE TRIGGER trg_paciente_validacion BEFORE
    INSERT OR UPDATE ON paciente
    FOR EACH ROW
BEGIN
    -- Validaciones de campos
    -- Cedula
    IF :new.cedula IS NULL THEN
        raise_application_error(-20010, 'La cedula es obligatoria');
    END IF;
    -- Validar formato de cédula (exactamente 9 dígitos numéricos)
    IF NOT regexp_like(:new.cedula,
                       '^[0-9]{9}$') THEN
        raise_application_error(-20011, 'La cedula debe contener exactamente 9 dígitos numéricos.');
    END IF;
    -- Fecha de nacimiento no puede ser futura
    IF :new.fecha_nacimiento > sysdate THEN
        raise_application_error(-20012, 'La fecha de nacimiento no puede ser futura');
    END IF;
    -- Teléfono
    IF
        :new.telefono IS NOT NULL
        AND NOT regexp_like(:new.telefono,
                            '^[0-9]{4}-[0-9]{4}$|^[0-9]{8}$')
    THEN
        raise_application_error(-20013, 'El teléfono debe estar en formato ####-#### o ######## (solo números y el guión opcional).')
        ;
    END IF;
    -- Correo electrónico
    IF
        :new.correo_electronico IS NOT NULL
        AND NOT regexp_like(:new.correo_electronico,
                            '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$')
    THEN
        raise_application_error(-20014, 'El correo electrónico debe tener un formato válido (ej. nombre@dominio.com).');
    END IF;

END;
/

-- ==================== VALIDAR CITA ====================
CREATE OR REPLACE TRIGGER trg_cita_validacion BEFORE
    INSERT OR UPDATE ON cita
    FOR EACH ROW
DECLARE
    var_id_cancelada estado_cita.id_estado%TYPE;
BEGIN
    -- Obtener ID del estado "Cancelada"
    IF :new.fecha < trunc(sysdate) THEN
        raise_application_error(-20020, 'La fecha de la cita no puede estar en el pasado');
    END IF;
    -- Validar que si el estado es "Cancelada", se proporcione una observación
    IF :new.observaciones IS NULL THEN
        raise_application_error(-20022, 'Coloque una observacion');
    END IF;

END;

/
-- ==================== VALIDAR PERSONAL ====================
CREATE OR REPLACE TRIGGER trg_personal_validaciones BEFORE
    INSERT OR UPDATE ON personal
    FOR EACH ROW
BEGIN
    -- Validaciones de campos
    --Teléfono
    IF :new.telefono IS NULL THEN
        raise_application_error(-20030, 'El telefono es obligatorio o poner donde contactarlo');
    END IF;
    -- Validar formato de teléfono (####-#### o ########)
    IF NOT regexp_like(:new.telefono,
                       '^[0-9]{4}-[0-9]{4}$|^[0-9]{8}$') THEN
        raise_application_error(-20031, 'El teléfono debe estar en formato ####-#### o ######## (solo números y el guión opcional).')
        ;
    END IF;
    -- Puesto
    IF :new.puesto IS NULL THEN
        raise_application_error(-20032, 'Debe colocar su puesto');
    END IF;
    -- Correo electrónico
    IF
        :new.correo_electronico IS NOT NULL
        AND NOT regexp_like(:new.correo_electronico,
                            '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$')
    THEN
        raise_application_error(-20033, 'El correo electrónico debe tener un formato válido (ej. nombre@dominio.com).');
    END IF;

END;
/

-- ==================== VALIDAR CONSULTORIO ====================
CREATE OR REPLACE TRIGGER trg_consultorio_validacion BEFORE
    INSERT OR UPDATE ON consultorio
    FOR EACH ROW
BEGIN
    -- Validaciones de campos
    -- Nombre
    IF :new.nombre IS NULL THEN
        raise_application_error(-20050, 'El nombre del consultorio es obligatorio');
    END IF;
    -- Tipo
    IF :new.tipo IS NULL THEN
        raise_application_error(-20052, 'Debe especificar el tipo de consultorio');
    END IF;

END;
/

-- ==================== VALIDAR EXPEDIENTE ====================
CREATE OR REPLACE TRIGGER trg_expediente_validacion BEFORE
    INSERT OR UPDATE ON expediente
    FOR EACH ROW
BEGIN
    -- Validaciones de campos
    -- Fecha de creación
    IF :new.creado_en IS NULL THEN
        raise_application_error(-20060, 'Debe poner la fecha de creación');
    END IF;
    -- Notas
    IF :new.notas IS NULL THEN
        raise_application_error(-20062, 'Debe poner notas');
    END IF;

END;
/

-- ==================== VALIDAR CLINICA ====================
CREATE OR REPLACE TRIGGER trg_clinica_validacion BEFORE
    INSERT OR UPDATE ON clinica
    FOR EACH ROW
BEGIN
    -- Validaciones de campos
    -- Nombre
    IF :new.nombre IS NULL THEN
        raise_application_error(-20070, 'Debe poner su nombre');
    END IF;
    -- Código de clínica
    IF :new.codigo_clinica IS NULL THEN
        raise_application_error(-20072, 'Debe colocar el codigo de la clinica');
    END IF;

END;

-- ============================================================================
-- SECCIÓN 6: Script de Views para la base de datos
-- Servidor: CLINICA (4.156.223.214:1521/XEPDB1)
-- ============================================================================
--------------------------
-- VIEWS
--------------------------

-- ==================== VISTA PACIENTES CORREO GMAIL ====================
CREATE OR REPLACE VIEW v_pacientes_correo_gmail AS
    SELECT
        id_paciente,
        cedula,
        primer_nombre,
        segundo_nombre,
        primer_apellido,
        segundo_apellido,
        correo_electronico
    FROM
        paciente
    WHERE
        REGEXP_LIKE ( correo_electronico,
                      '^[a-zA-Z0-9._%+-]+@gmail\.com$' );

-- ==================== VISTA PACIENTES NOMBRE TERMINA IA ====================
CREATE OR REPLACE VIEW v_pacientes_nombre_termina_ia AS
    SELECT
        id_paciente,
        cedula,
        primer_nombre,
        segundo_nombre,
        primer_apellido,
        segundo_apellido,
        correo_electronico
    FROM
        paciente
    WHERE
        REGEXP_LIKE ( primer_nombre,
                      '^[^ ]*ía$' );

-- ==================== VISTA PACIENTES TELEFONO FORMATO 506 ====================
CREATE OR REPLACE VIEW v_pacientes_telefono_formato_506 AS
    SELECT
        id_paciente,
        cedula,
        primer_nombre,
        segundo_nombre,
        primer_apellido,
        segundo_apellido,
        telefono,
        regexp_replace(telefono, '^([0-9]{4})-([0-9]{4})$', '(+506) (\1-\2)') AS telefono_formato_506
    FROM
        paciente
    WHERE
        REGEXP_LIKE ( telefono,
                      '^[0-9]{4}-[0-9]{4}$' );

-- ==================== VISTA PACIENTES DIRECCION ALAJUELA HEREDIA ====================
CREATE OR REPLACE VIEW v_pacientes_direccion_alajuela_heredia AS
    SELECT
        id_paciente,
        cedula,
        primer_nombre,
        segundo_nombre,
        primer_apellido,
        segundo_apellido,
        direccion
    FROM
        paciente
    WHERE
        REGEXP_LIKE ( direccion,
                      '(Alajuela|Heredia)' );